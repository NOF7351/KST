<!DOCTYPE html>
<html lang="ru">

<head>
    <meta charset="UTF-8">
    <title>–†–µ–¥–∞–∫—Ç–æ—Ä –Ω–æ–≤–æ—Å—Ç–µ–π - –ö–°–¢</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        .preview-card {
            border: 2px dashed #d1d5db;
        }

        .code-block {
            font-family: 'Courier New', monospace;
            background: #1e293b;
            color: #e2e8f0;
            padding: 1rem;
            border-radius: 0.5rem;
            position: relative;
            overflow-x: auto;
        }

        .copy-btn {
            position: absolute;
            top: 0.5rem;
            right: 0.5rem;
            background: rgba(255, 255, 255, 0.1);
            border: none;
            color: white;
            padding: 0.25rem 0.75rem;
            border-radius: 0.25rem;
            cursor: pointer;
            transition: background 0.3s;
        }

        .copy-btn:hover {
            background: rgba(255, 255, 255, 0.2);
        }

        .copy-btn.copied {
            background: #10b981;
        }

        .id-badge {
            display: inline-block;
            padding: 2px 8px;
            border-radius: 12px;
            font-size: 0.75rem;
            font-weight: bold;
            margin: 2px;
            cursor: pointer;
            transition: all 0.3s;
        }

        .id-occupied {
            background-color: #f59e0b;
            color: white;
        }

        .id-occupied:hover {
            background-color: #d97706;
            transform: scale(1.1);
        }

        .id-available {
            background-color: #10b981;
            color: white;
        }

        .id-available:hover {
            background-color: #059669;
            transform: scale(1.1);
        }

        .id-current {
            background-color: #3b82f6;
            color: white;
            border: 2px solid white;
            box-shadow: 0 0 0 1px #3b82f6;
            transform: scale(1.1);
        }

        .id-input-wrapper {
            position: relative;
        }

        .id-input-wrapper input {
            padding-right: 40px;
        }

        .id-status {
            position: absolute;
            right: 10px;
            top: 50%;
            transform: translateY(-50%);
            font-size: 0.75rem;
            font-weight: bold;
        }

        .id-ok {
            color: #10b981;
        }

        .id-warning {
            color: #f59e0b;
        }

        .id-error {
            color: #ef4444;
        }

        .danger-zone {
            border: 2px solid #ef4444;
            background: linear-gradient(135deg, #fee2e2 0%, #fecaca 100%);
        }

        .delete-btn {
            background: linear-gradient(135deg, #ef4444 0%, #dc2626 100%);
            color: white;
            border: none;
        }

        .delete-btn:hover {
            background: linear-gradient(135deg, #dc2626 0%, #b91c1c 100%);
            transform: scale(1.05);
        }

        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.5);
            display: none;
            align-items: center;
            justify-content: center;
            z-index: 1000;
        }

        .modal-content {
            background: white;
            border-radius: 1rem;
            max-width: 500px;
            width: 90%;
            max-height: 90vh;
            overflow-y: auto;
        }

        .permanent-delete {
            background: linear-gradient(135deg, #b91c1c 0%, #7f1d1d 100%);
            color: white;
        }

        .permanent-delete:hover {
            background: linear-gradient(135deg, #991b1b 0%, #450a0a 100%);
        }

        .countdown {
            font-size: 2rem;
            font-weight: bold;
            color: #ef4444;
            animation: pulse 1s infinite;
        }

        @keyframes pulse {

            0%,
            100% {
                opacity: 1;
            }

            50% {
                opacity: 0.5;
            }
        }
    </style>
</head>

<body class="bg-gray-50 p-4 md:p-8">
    <div class="max-w-6xl mx-auto">
        <h1 class="text-2xl md:text-3xl font-bold mb-2">üì∞ –†–µ–¥–∞–∫—Ç–æ—Ä –Ω–æ–≤–æ—Å—Ç–µ–π –ö–°–¢</h1>
        <p class="text-gray-600 mb-6 md:mb-8">–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ—Å—Ç—è–º–∏ —Å–∞–π—Ç–∞ - —É–¥–∞–ª–µ–Ω–∏–µ –Ω–∞–≤—Å–µ–≥–¥–∞ –±–µ–∑ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏
            –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è</p>

        <!-- –ü–∞–Ω–µ–ª—å —Å –∑–∞–Ω—è—Ç—ã–º–∏ ID -->
        <div class="bg-white rounded-lg shadow-lg p-4 mb-6">
            <div class="flex flex-wrap items-center justify-between gap-4 mb-3">
                <h3 class="font-bold flex items-center">
                    <i class="fas fa-id-card mr-2 text-amber-600"></i>
                    –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ ID –Ω–æ–≤–æ—Å—Ç–µ–π
                </h3>
                <div class="text-sm">
                    <span class="text-gray-600">–í—Å–µ–≥–æ: <span class="font-bold" id="totalNewsCount">0</span></span>
                    <span class="mx-2">‚Ä¢</span>
                    <span class="text-amber-600">–ê–∫—Ç–∏–≤–Ω—ã—Ö: <span class="font-bold" id="activeNewsCount">0</span></span>
                </div>
            </div>

            <div class="flex flex-wrap gap-2 mb-3">
                <span class="text-sm text-gray-600 mr-2">–ó–∞–Ω—è—Ç—ã–µ ID:</span>
                <div id="occupiedIds"></div>
            </div>

            <div class="text-sm text-gray-500">
                <i class="fas fa-exclamation-triangle text-red-500 mr-1"></i>
                <span id="idStatusText">–£–¥–∞–ª–µ–Ω–∏–µ –Ω–æ–≤–æ—Å—Ç–µ–π –Ω–∞–≤—Å–µ–≥–¥–∞! –û—Ç–º–µ–Ω–∏—Ç—å –Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ.</span>
            </div>
        </div>

        <div class="grid lg:grid-cols-2 gap-6 md:gap-8">
            <!-- –§–æ—Ä–º–∞ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è -->
            <div class="bg-white rounded-lg shadow-lg p-4 md:p-6">
                <h2 class="text-lg md:text-xl font-bold mb-4">‚úèÔ∏è –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –Ω–æ–≤–æ—Å—Ç–∏</h2>

                <!-- –°–µ–ª–µ–∫—Ç–æ—Ä –¥–ª—è –≤—ã–±–æ—Ä–∞ –Ω–æ–≤–æ—Å—Ç–∏ -->
                <div class="mb-6">
                    <label class="block text-sm font-medium mb-2">–í—ã–±–µ—Ä–∏—Ç–µ –Ω–æ–≤–æ—Å—Ç—å:</label>
                    <select id="newsSelector" class="w-full border rounded-lg px-4 py-2 bg-white mb-4">
                        <option value="">-- –í—ã–±–µ—Ä–∏—Ç–µ –Ω–æ–≤–æ—Å—Ç—å --</option>
                        <option value="new">‚ûï –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—É—é –Ω–æ–≤–æ—Å—Ç—å</option>
                    </select>

                    <div class="id-input-wrapper">
                        <label class="block text-sm font-medium mb-2">üÜî ID –Ω–æ–≤–æ—Å—Ç–∏ (–º–æ–∂–Ω–æ –∏–∑–º–µ–Ω–∏—Ç—å):</label>
                        <input type="number" id="newsId" min="1" max="999" class="w-full border rounded-lg px-4 py-2"
                            placeholder="–í–≤–µ–¥–∏—Ç–µ ID">
                        <span id="idStatus" class="id-status"></span>
                    </div>
                    <div class="text-xs text-gray-500 mt-1">
                        <i class="fas fa-lightbulb mr-1"></i>
                        ID –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —É–Ω–∏–∫–∞–ª—å–Ω—ã–º. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å–≤–æ–±–æ–¥–Ω—ã–µ –Ω–æ–º–µ—Ä–∞.
                    </div>
                </div>

                <!-- –§–æ—Ä–º–∞ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è -->
                <div class="space-y-4">
                    <div>
                        <label class="block text-sm font-medium mb-1">üìå –ó–∞–≥–æ–ª–æ–≤–æ–∫</label>
                        <input type="text" id="newsTitle" class="w-full border rounded-lg px-4 py-2"
                            placeholder="–í–≤–µ–¥–∏—Ç–µ –∑–∞–≥–æ–ª–æ–≤–æ–∫ –Ω–æ–≤–æ—Å—Ç–∏">
                    </div>
                    <div>
                        <label class="block text-sm font-medium mb-1">üìÖ –î–∞—Ç–∞</label>
                        <input type="text" id="newsDate" class="w-full border rounded-lg px-4 py-2"
                            placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: 20 –Ω–æ—è–±—Ä—è 2025">
                    </div>
                    <div>
                        <label class="block text-sm font-medium mb-1">üìù –¢–µ–∫—Å—Ç –Ω–æ–≤–æ—Å—Ç–∏</label>
                        <textarea id="newsText" class="w-full border rounded-lg px-4 py-2 h-32"
                            placeholder="–í–≤–µ–¥–∏—Ç–µ —Ç–µ–∫—Å—Ç –Ω–æ–≤–æ—Å—Ç–∏"></textarea>
                    </div>
                    <div>
                        <label class="block text-sm font-medium mb-1">üñºÔ∏è URL –∫–∞—Ä—Ç–∏–Ω–∫–∏</label>
                        <input type="text" id="newsImage" class="w-full border rounded-lg px-4 py-2"
                            placeholder="https://example.com/image.jpg">
                        <p class="text-sm text-gray-500 mt-1">–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–π —Ä–∞–∑–º–µ—Ä: 1200√ó600px</p>
                    </div>
                </div>

                <!-- –ö–Ω–æ–ø–∫–∏ –¥–µ–π—Å—Ç–≤–∏–π -->
                <div class="flex flex-wrap gap-3 mt-8">
                    <button onclick="saveNews()"
                        class="flex-1 bg-amber-500 text-white px-6 py-3 rounded-lg hover:bg-amber-600 transition font-medium">
                        <i class="fas fa-save mr-2"></i>–°–æ—Ö—Ä–∞–Ω–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è
                    </button>
                    <button onclick="confirmDeleteNews()" id="deleteBtn"
                        class="flex-1 delete-btn px-6 py-3 rounded-lg transition font-medium hidden">
                        <i class="fas fa-trash-alt mr-2"></i>–£–¥–∞–ª–∏—Ç—å –Ω–∞–≤—Å–µ–≥–¥–∞
                    </button>
                </div>
            </div>

            <!-- –ö–æ–¥ –¥–ª—è –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è –∏ –ø—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä -->
            <div class="space-y-6 md:space-y-8">
                <!-- –ö–æ–¥ –¥–ª—è –∑–∞–º–µ–Ω—ã -->
                <div class="bg-white rounded-lg shadow-lg p-4 md:p-6">
                    <h2 class="text-lg md:text-xl font-bold mb-3 flex items-center justify-between">
                        <span>üìã –ö–æ–¥ –¥–ª—è –∑–∞–º–µ–Ω—ã</span>
                        <span class="text-sm font-normal text-amber-600" id="newsNumber"></span>
                    </h2>

                    <div class="code-block mb-4">
                        <button onclick="copyCode()" class="copy-btn" id="copyButton">
                            <i class="far fa-copy mr-1"></i> –ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å
                        </button>
                        <pre id="codeOutput">{
  id: 1,
  title: "",
  date: "",
  text: "",
  image: ""
}</pre>
                    </div>

                    <div class="text-sm text-gray-600 mb-3">
                        <p class="mb-1">üìù <strong>–ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è:</strong></p>
                        <ol class="list-decimal pl-5 space-y-1">
                            <li>–ó–∞–ø–æ–ª–Ω–∏—Ç–µ —Ñ–æ—Ä–º—É —Å–ª–µ–≤–∞</li>
                            <li>–ù–∞–∂–º–∏—Ç–µ "–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å –∫–æ–¥"</li>
                            <li>–û—Ç–∫—Ä–æ–π—Ç–µ —Ñ–∞–π–ª <code class="bg-gray-100 px-1 rounded">components/news.js</code></li>
                            <li>–ù–∞–π–¥–∏—Ç–µ –º–∞—Å—Å–∏–≤ <code class="bg-gray-100 px-1 rounded">allNewsData</code></li>
                            <li>–ó–∞–º–µ–Ω–∏—Ç–µ –∏–ª–∏ –¥–æ–±–∞–≤—å—Ç–µ –Ω–æ–≤–æ—Å—Ç—å</li>
                        </ol>
                    </div>

                    <div class="flex gap-2 mt-4">
                        <button onclick="showAllCode()"
                            class="flex-1 bg-blue-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600 transition text-sm">
                            <i class="fas fa-code mr-1"></i> –í–µ—Å—å –º–∞—Å—Å–∏–≤
                        </button>
                        <button onclick="showHelp()"
                            class="flex-1 bg-gray-500 text-white px-4 py-2 rounded-lg hover:bg-gray-600 transition text-sm">
                            <i class="fas fa-question-circle mr-1"></i> –ü–æ–º–æ—â—å
                        </button>
                    </div>
                </div>

                <!-- –ü—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä -->
                <div class="bg-white rounded-lg shadow-lg p-4 md:p-6">
                    <h2 class="text-lg md:text-xl font-bold mb-3">üëÅÔ∏è –ü—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä</h2>
                    <div class="preview-card rounded-lg p-4">
                        <div class="flex justify-between items-start mb-3">
                            <div>
                                <h3 class="text-lg font-bold text-gray-800" id="previewTitle">–ó–∞–≥–æ–ª–æ–≤–æ–∫ –Ω–æ–≤–æ—Å—Ç–∏</h3>
                                <div class="flex items-center mt-1">
                                    <span class="text-xs bg-blue-100 text-blue-800 px-2 py-1 rounded mr-2"
                                        id="previewId">ID: 1</span>
                                    <span
                                        class="text-xs md:text-sm text-amber-600 font-medium bg-amber-50 px-2 md:px-3 py-1 rounded-full"
                                        id="previewDate">–î–∞—Ç–∞</span>
                                </div>
                            </div>
                        </div>
                        <p class="text-gray-600 text-sm md:text-base mb-3" id="previewText">–¢–µ–∫—Å—Ç –Ω–æ–≤–æ—Å—Ç–∏ –±—É–¥–µ—Ç
                            –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å—Å—è –∑–¥–µ—Å—å...</p>
                        <div class="mt-3">
                            <div class="text-xs text-gray-500 mb-1">–ü—Ä–µ–≤—å—é –∫–∞—Ä—Ç–∏–Ω–∫–∏:</div>
                            <div class="bg-gray-100 h-32 md:h-40 rounded-lg overflow-hidden">
                                <div id="imagePreview"
                                    class="w-full h-full flex items-center justify-center text-gray-400">
                                    <i class="fas fa-image text-3xl"></i>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="mt-6 danger-zone rounded-lg p-4">
                        <h3 class="font-bold text-red-700 mb-3 flex items-center">
                            <i class="fas fa-skull-crossbones mr-2"></i>
                            –û–ø–∞—Å–Ω–∞—è –∑–æ–Ω–∞ - —É–¥–∞–ª–µ–Ω–∏–µ –Ω–∞–≤—Å–µ–≥–¥–∞
                        </h3>
                        <div class="space-y-3">
                            <button onclick="quickDeleteMode()"
                                class="w-full permanent-delete px-4 py-3 rounded-lg transition font-medium">
                                <i class="fas fa-fire mr-2"></i>–†–µ–∂–∏–º –±—ã—Å—Ç—Ä–æ–≥–æ —É–¥–∞–ª–µ–Ω–∏—è
                            </button>
                            <p class="text-xs text-red-600">
                                <i class="fas fa-exclamation-triangle mr-1"></i>
                                –í–Ω–∏–º–∞–Ω–∏–µ! –£–¥–∞–ª–µ–Ω–∏–µ –Ω–æ–≤–æ—Å—Ç–µ–π –±–µ–∑–≤–æ–∑–≤—Ä–∞—Ç–Ω–æ. –°–æ–∑–¥–∞–π—Ç–µ —Ä–µ–∑–µ—Ä–≤–Ω—É—é –∫–æ–ø–∏—é –∫–æ–¥–∞.
                            </p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ —Å –ø–æ–ª–Ω—ã–º –∫–æ–¥–æ–º -->
    <div id="allCodeModal" class="modal-overlay">
        <div class="modal-content">
            <div class="flex justify-between items-center p-4 border-b">
                <h3 class="text-lg font-bold">üìã –ü–æ–ª–Ω—ã–π –º–∞—Å—Å–∏–≤ –Ω–æ–≤–æ—Å—Ç–µ–π</h3>
                <button onclick="closeAllCodeModal()" class="text-gray-500 hover:text-gray-700">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="p-4 overflow-auto max-h-[70vh]">
                <pre id="allCodeOutput" class="bg-gray-900 text-gray-100 p-4 rounded-lg text-sm overflow-x-auto"></pre>
            </div>
            <div class="p-4 border-t flex justify-between">
                <button onclick="copyAllCode()" class="bg-amber-500 text-white px-4 py-2 rounded-lg hover:bg-amber-600">
                    <i class="far fa-copy mr-2"></i>–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å –≤–µ—Å—å –º–∞—Å—Å–∏–≤
                </button>
                <button onclick="closeAllCodeModal()"
                    class="bg-gray-500 text-white px-4 py-2 rounded-lg hover:bg-gray-600">
                    –ó–∞–∫—Ä—ã—Ç—å
                </button>
            </div>
        </div>
    </div>

    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è —É–¥–∞–ª–µ–Ω–∏—è -->
    <div id="deleteModal" class="modal-overlay">
        <div class="modal-content max-w-md">
            <div class="p-6">
                <div class="text-center mb-6">
                    <div class="w-20 h-20 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4">
                        <i class="fas fa-skull-crossbones text-red-600 text-3xl"></i>
                    </div>
                    <h3 class="text-xl font-bold text-gray-900 mb-2">–£–¥–∞–ª–∏—Ç—å –Ω–æ–≤–æ—Å—Ç—å –Ω–∞–≤—Å–µ–≥–¥–∞?</h3>
                    <p class="text-gray-600" id="deleteMessage"></p>
                </div>

                <div class="bg-red-50 border border-red-200 rounded-lg p-4 mb-6">
                    <div class="flex items-start">
                        <i class="fas fa-ban text-red-600 mt-1 mr-2"></i>
                        <div class="text-sm text-red-700">
                            <p class="font-bold mb-1">‚õî –í–ù–ò–ú–ê–ù–ò–ï: –£–î–ê–õ–ï–ù–ò–ï –ë–ï–ó–í–û–ó–í–†–ê–¢–ù–û!</p>
                            <p class="mb-2">–ù–æ–≤–æ—Å—Ç—å –±—É–¥–µ—Ç –ø–æ–ª–Ω–æ—Å—Ç—å—é –∏ –Ω–∞–≤—Å–µ–≥–¥–∞ —É–¥–∞–ª–µ–Ω–∞. –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ.</p>
                            <p>–ü–µ—Ä–µ–¥ —É–¥–∞–ª–µ–Ω–∏–µ–º —É–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Å–æ—Ö—Ä–∞–Ω–∏–ª–∏ —Ä–µ–∑–µ—Ä–≤–Ω—É—é –∫–æ–ø–∏—é –∫–æ–¥–∞.</p>
                        </div>
                    </div>
                </div>

                <div id="deleteCountdown" class="text-center mb-6 hidden">
                    <div class="countdown" id="countdownNumber">5</div>
                    <p class="text-sm text-red-600 mt-2">–ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ —á–µ—Ä–µ–∑...</p>
                </div>

                <div class="flex gap-3">
                    <button onclick="startDeleteCountdown()" id="confirmDeleteBtn"
                        class="flex-1 permanent-delete px-6 py-3 rounded-lg font-medium">
                        <i class="fas fa-fire mr-2"></i>–î–∞, —É–¥–∞–ª–∏—Ç—å –Ω–∞–≤—Å–µ–≥–¥–∞
                    </button>
                    <button onclick="closeDeleteModal()"
                        class="flex-1 bg-gray-500 text-white px-6 py-3 rounded-lg hover:bg-gray-600 font-medium">
                        –û—Ç–º–µ–Ω–∞
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –±—ã—Å—Ç—Ä–æ–≥–æ —É–¥–∞–ª–µ–Ω–∏—è -->
    <div id="quickDeleteModal" class="modal-overlay">
        <div class="modal-content max-w-lg">
            <div class="flex justify-between items-center p-4 border-b">
                <h3 class="text-lg font-bold text-red-700">
                    <i class="fas fa-fire mr-2"></i>–†–µ–∂–∏–º –±—ã—Å—Ç—Ä–æ–≥–æ —É–¥–∞–ª–µ–Ω–∏—è
                </h3>
                <button onclick="closeQuickDeleteModal()" class="text-gray-500 hover:text-gray-700">
                    <i class="fas fa-times"></i>
                </button>
            </div>

            <div class="p-6">
                <!-- –ë—ã—Å—Ç—Ä–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ –ø–æ ID -->
                <div class="mb-8">
                    <h4 class="font-bold text-gray-700 mb-4 flex items-center">
                        <i class="fas fa-bolt text-red-600 mr-2"></i>
                        –£–¥–∞–ª–µ–Ω–∏–µ –Ω–æ–≤–æ—Å—Ç–∏ –ø–æ ID
                    </h4>
                    <div class="flex gap-2 mb-4">
                        <input type="number" id="quickDeleteId" min="1" placeholder="–í–≤–µ–¥–∏—Ç–µ ID –Ω–æ–≤–æ—Å—Ç–∏"
                            class="flex-1 border border-red-300 rounded-lg px-4 py-3">
                        <button onclick="quickDeleteById()" class="permanent-delete px-6 py-3 rounded-lg font-medium">
                            <i class="fas fa-trash mr-2"></i>–£–¥–∞–ª–∏—Ç—å
                        </button>
                    </div>
                    <div class="text-xs text-red-600">
                        <i class="fas fa-exclamation-triangle mr-1"></i>
                        –ù–æ–≤–æ—Å—Ç—å –±—É–¥–µ—Ç —É–¥–∞–ª–µ–Ω–∞ –Ω–∞–≤—Å–µ–≥–¥–∞ –±–µ–∑ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è
                    </div>
                </div>

                <!-- –ú–∞—Å—Å–æ–≤–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ -->
                <div class="mb-8">
                    <h4 class="font-bold text-gray-700 mb-4 flex items-center">
                        <i class="fas fa-bomb text-red-600 mr-2"></i>
                        –ú–∞—Å—Å–æ–≤–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ
                    </h4>
                    <div class="space-y-3">
                        <button onclick="deleteAllExceptFirst()"
                            class="w-full delete-btn px-4 py-3 rounded-lg text-left">
                            <i class="fas fa-filter mr-2"></i>–£–¥–∞–ª–∏—Ç—å –≤—Å–µ, –∫—Ä–æ–º–µ –ø–µ—Ä–≤–æ–π –Ω–æ–≤–æ—Å—Ç–∏
                        </button>
                        <button onclick="deleteAllNews()"
                            class="w-full permanent-delete px-4 py-3 rounded-lg text-left">
                            <i class="fas fa-radiation mr-2"></i>–£–¥–∞–ª–∏—Ç—å –í–°–ï –Ω–æ–≤–æ—Å—Ç–∏ (–æ—á–∏—Å—Ç–∏—Ç—å —Å–∞–π—Ç)
                        </button>
                    </div>
                </div>

                <!-- –ö–æ–¥ –¥–ª—è —É–¥–∞–ª–µ–Ω–∏—è -->
                <div>
                    <h4 class="font-bold text-gray-700 mb-3">–ö–æ–¥ –¥–ª—è —É–¥–∞–ª–µ–Ω–∏—è –Ω–æ–≤–æ—Å—Ç–∏:</h4>
                    <div class="code-block">
                        <button onclick="copyDeleteCode()" class="copy-btn" id="copyDeleteButton">
                            <i class="far fa-copy mr-1"></i> –ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å
                        </button>
                        <pre
                            id="deleteCodeOutput">// –ß—Ç–æ–±—ã —É–¥–∞–ª–∏—Ç—å –Ω–æ–≤–æ—Å—Ç—å –Ω–∞–≤—Å–µ–≥–¥–∞, —É–±–µ—Ä–∏—Ç–µ –µ—ë –∏–∑ –º–∞—Å—Å–∏–≤–∞ allNewsData</pre>
                    </div>
                    <p class="text-xs text-red-600 mt-2">
                        <i class="fas fa-shield-alt mr-1"></i>
                        –î–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å —Ä–µ–∑–µ—Ä–≤–Ω—É—é –∫–æ–ø–∏—é –ø–µ—Ä–µ–¥ —É–¥–∞–ª–µ–Ω–∏–µ–º
                    </p>
                </div>
            </div>

            <div class="p-4 border-t bg-red-50">
                <div class="flex justify-between">
                    <button onclick="showAllCode()"
                        class="bg-blue-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600 transition">
                        <i class="fas fa-code mr-2"></i>–í–µ—Å—å –∫–æ–¥
                    </button>
                    <button onclick="createBackup()"
                        class="bg-green-500 text-white px-4 py-2 rounded-lg hover:bg-green-600 transition">
                        <i class="fas fa-save mr-2"></i>–°–æ–∑–¥–∞—Ç—å –±—ç–∫–∞–ø
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –±—ç–∫–∞–ø–∞ -->
    <div id="backupModal" class="modal-overlay">
        <div class="modal-content max-w-2xl">
            <div class="flex justify-between items-center p-4 border-b">
                <h3 class="text-lg font-bold text-green-700">
                    <i class="fas fa-save mr-2"></i>–†–µ–∑–µ—Ä–≤–Ω–∞—è –∫–æ–ø–∏—è –Ω–æ–≤–æ—Å—Ç–µ–π
                </h3>
                <button onclick="closeBackupModal()" class="text-gray-500 hover:text-gray-700">
                    <i class="fas fa-times"></i>
                </button>
            </div>

            <div class="p-4 overflow-auto max-h-[70vh]">
                <div class="mb-4">
                    <div class="flex items-center justify-between mb-2">
                        <h4 class="font-bold">–¢–µ–∫—É—â–∏–µ –Ω–æ–≤–æ—Å—Ç–∏ (JSON):</h4>
                        <button onclick="copyBackup()" class="bg-green-500 text-white px-3 py-1 rounded text-sm">
                            <i class="far fa-copy mr-1"></i>–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å JSON
                        </button>
                    </div>
                    <pre id="backupOutput"
                        class="bg-gray-900 text-gray-100 p-4 rounded-lg text-sm overflow-x-auto max-h-96"></pre>
                </div>

                <div class="bg-yellow-50 border border-yellow-200 rounded-lg p-4">
                    <h4 class="font-bold text-yellow-800 mb-2 flex items-center">
                        <i class="fas fa-lightbulb mr-2"></i>
                        –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—é
                    </h4>
                    <ol class="list-decimal pl-5 text-sm text-yellow-700 space-y-1">
                        <li>–°–∫–æ–ø–∏—Ä—É–π—Ç–µ JSON –≤—ã—à–µ</li>
                        <li>–°–æ—Ö—Ä–∞–Ω–∏—Ç–µ –≤ —Ç–µ–∫—Å—Ç–æ–≤–æ–º —Ñ–∞–π–ª–µ —Å —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ–º .json</li>
                        <li>–î–ª—è –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è –∑–∞–º–µ–Ω–∏—Ç–µ –º–∞—Å—Å–∏–≤ allNewsData –≤ components/news.js</li>
                        <li>–ò–ª–∏ –≤—Å—Ç–∞–≤—å—Ç–µ –≤ —Ä–µ–¥–∞–∫—Ç–æ—Ä –Ω–æ–≤–æ—Å—Ç–µ–π –¥–ª—è –ø–æ—à–∞–≥–æ–≤–æ–≥–æ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è</li>
                    </ol>
                </div>
            </div>

            <div class="p-4 border-t">
                <button onclick="closeBackupModal()"
                    class="w-full bg-gray-500 text-white px-4 py-2 rounded-lg hover:bg-gray-600">
                    –ó–∞–∫—Ä—ã—Ç—å
                </button>
            </div>
        </div>
    </div>

    <script>
        // –î–∞–Ω–Ω—ã–µ –Ω–æ–≤–æ—Å—Ç–µ–π
        let newsData = [
            { id: 1, title: "–ó–∞–ø—É—Å–∫ –Ω–æ–≤–æ–≥–æ –º–∞–≥–∞–∑–∏–Ω–∞ —Ç–æ–≤–∞—Ä–æ–≤", date: "15 –Ω–æ—è–±—Ä—è 2025", text: "–ú—ã —Ä–∞–¥—ã —Å–æ–æ–±—â–∏—Ç—å –æ –∑–∞–ø—É—Å–∫–µ –Ω–∞—à–µ–≥–æ –Ω–æ–≤–æ–≥–æ –º–∞–≥–∞–∑–∏–Ω–∞ —Å —Ç–æ–≤–∞—Ä–∞–º–∏, –Ω–∞–ø–µ—á–∞—Ç–∞–Ω–Ω—ã–º–∏ –Ω–∞ 3D –ø—Ä–∏–Ω—Ç–µ—Ä–µ.", image: "https://images.unsplash.com/photo-1550745165-9bc0b252726f?ixlib=rb-4.0.3&auto=format&fit=crop&w=1350&q=80" },
            { id: 2, title: "–°–∫–æ—Ä–æ –≤—ã–π–¥–µ—Ç KST Tools", date: "10 –Ω–æ—è–±—Ä—è 2025", text: "–ú—ã –∞–∫—Ç–∏–≤–Ω–æ —Ä–∞–±–æ—Ç–∞–µ–º –Ω–∞–¥ —Å–æ–∑–¥–∞–Ω–∏–µ–º –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã KST Tools.", image: "https://images.unsplash.com/photo-1555099962-4199c345e5dd?ixlib=rb-4.0.3&auto=format&fit=crop&w=1350&q=80" },
            { id: 3, title: "–ù–æ–≤—ã–µ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏ VR –≤ –æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–∏", date: "5 –Ω–æ—è–±—Ä—è 2025", text: "–ù–∞—à –ø—Ä–æ–µ–∫—Ç EduVR –≤—ã—Ö–æ–¥–∏—Ç –Ω–∞ –Ω–æ–≤—ã–π —É—Ä–æ–≤–µ–Ω—å.", image: "https://images.unsplash.com/photo-1581094794329-c8112a89af12?ixlib=rb-4.0.3&auto=format&fit=crop&w=1350&q=80" },
            { id: 4, title: "–ù–æ–≤–æ–µ –ø–∞—Ä—Ç–Ω–µ—Ä—Å—Ç–≤–æ —Å TechCorp", date: "1 –Ω–æ—è–±—Ä—è 2025", text: "–ú—ã —Ä–∞–¥—ã –æ–±—ä—è–≤–∏—Ç—å –æ –Ω–∞—á–∞–ª–µ –ø–∞—Ä—Ç–Ω–µ—Ä—Å—Ç–≤–∞.", image: "https://images.unsplash.com/photo-1552664730-d307ca884978?ixlib=rb-4.0.3&auto=format&fit=crop&w=1350&q=80" },
            { id: 5, title: "–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–∏–∑–∞–π–Ω–∞ —Å–∞–π—Ç–∞", date: "25 –æ–∫—Ç—è–±—Ä—è 2025", text: "–ó–∞–ø—É—â–µ–Ω –Ω–æ–≤—ã–π, –±–æ–ª–µ–µ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π –¥–∏–∑–∞–π–Ω —Å–∞–π—Ç–∞.", image: "https://images.unsplash.com/photo-1460925895917-afdab827c52f?ixlib=rb-4.0.3&auto=format&fit=crop&w=1350&q=80" }
        ];

        let currentNewsId = null;
        let isNewNews = false;
        let deleteCountdown = null;

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
        document.addEventListener('DOMContentLoaded', function () {
            updateOccupiedIds();
            loadNewsSelector();
            updateStats();

            document.getElementById('newsSelector').addEventListener('change', function () {
                if (this.value === 'new') {
                    createNewNews();
                } else if (this.value) {
                    loadNewsData(parseInt(this.value));
                }
            });

            document.getElementById('newsId').addEventListener('input', function () {
                checkIdAvailability();
                updateCode();
                updatePreview();
            });

            const inputs = ['newsTitle', 'newsDate', 'newsText', 'newsImage'];
            inputs.forEach(id => {
                document.getElementById(id).addEventListener('input', function () {
                    updatePreview();
                    updateCode();
                });
            });

            updatePreview();
            updateCode();
        });

        function updateStats() {
            document.getElementById('totalNewsCount').textContent = newsData.length;
            document.getElementById('activeNewsCount').textContent = newsData.length;
        }

        function updateOccupiedIds() {
            const container = document.getElementById('occupiedIds');
            container.innerHTML = '';

            const occupiedIds = newsData.map(n => n.id).sort((a, b) => a - b);
            const selectedId = currentNewsId ? parseInt(currentNewsId) : null;
            const maxId = Math.max(...occupiedIds, 10);

            for (let i = 1; i <= maxId; i++) {
                const isOccupied = occupiedIds.includes(i);
                const isCurrent = i === selectedId;

                const badge = document.createElement('span');
                badge.className = `id-badge ${isOccupied ? 'id-occupied' : 'id-available'} ${isCurrent ? 'id-current' : ''}`;
                badge.textContent = i;

                if (isOccupied) {
                    const news = newsData.find(n => n.id === i);
                    badge.title = `ID ${i}: ${news.title.substring(0, 30)}...`;
                    badge.addEventListener('click', function () {
                        loadNewsData(i);
                    });
                } else {
                    badge.title = `ID ${i} —Å–≤–æ–±–æ–¥–µ–Ω`;
                    badge.addEventListener('click', function () {
                        document.getElementById('newsId').value = i;
                        checkIdAvailability();
                        updateCode();
                    });
                }

                container.appendChild(badge);
            }

            const statusText = document.getElementById('idStatusText');
            if (selectedId) {
                const news = newsData.find(n => n.id === selectedId);
                if (news) {
                    statusText.textContent = `–í—ã–±—Ä–∞–Ω–∞ –Ω–æ–≤–æ—Å—Ç—å ID: ${selectedId} - "${news.title}"`;
                } else {
                    statusText.textContent = `–°–æ–∑–¥–∞–µ—Ç—Å—è –Ω–æ–≤–æ—Å—Ç—å —Å ID: ${selectedId}`;
                }
            } else {
                statusText.textContent = '–£–¥–∞–ª–µ–Ω–∏–µ –Ω–æ–≤–æ—Å—Ç–µ–π –Ω–∞–≤—Å–µ–≥–¥–∞! –û—Ç–º–µ–Ω–∏—Ç—å –Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ.';
            }
        }

        function loadNewsSelector() {
            const selector = document.getElementById('newsSelector');
            selector.innerHTML = '<option value="">-- –í—ã–±–µ—Ä–∏—Ç–µ –Ω–æ–≤–æ—Å—Ç—å --</option>';

            newsData.sort((a, b) => a.id - b.id).forEach(news => {
                const option = document.createElement('option');
                option.value = news.id;
                option.textContent = `ID ${news.id}: ${news.title.substring(0, 30)}${news.title.length > 30 ? '...' : ''}`;
                selector.appendChild(option);
            });

            const newOption = document.createElement('option');
            newOption.value = 'new';
            newOption.textContent = '‚ûï –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—É—é –Ω–æ–≤–æ—Å—Ç—å';
            selector.appendChild(newOption);
        }

        function loadNewsData(newsId) {
            const news = newsData.find(n => n.id === newsId);
            if (news) {
                currentNewsId = newsId;
                isNewNews = false;

                document.getElementById('newsId').value = news.id;
                document.getElementById('newsTitle').value = news.title;
                document.getElementById('newsDate').value = news.date;
                document.getElementById('newsText').value = news.text;
                document.getElementById('newsImage').value = news.image;
                document.getElementById('newsNumber').textContent = `(ID: ${news.id})`;

                document.getElementById('newsSelector').value = newsId;
                document.getElementById('deleteBtn').classList.remove('hidden');

                checkIdAvailability();
                updatePreview();
                updateCode();
                updateOccupiedIds();
            }
        }

        function createNewNews() {
            currentNewsId = null;
            isNewNews = true;

            const allIds = newsData.map(n => n.id).sort((a, b) => a - b);
            let newId = 1;
            while (allIds.includes(newId)) {
                newId++;
            }

            document.getElementById('newsId').value = newId;
            document.getElementById('newsTitle').value = '';
            document.getElementById('newsDate').value = '';
            document.getElementById('newsText').value = '';
            document.getElementById('newsImage').value = '';
            document.getElementById('newsNumber').textContent = '(–ù–æ–≤–∞—è –Ω–æ–≤–æ—Å—Ç—å)';

            document.getElementById('newsSelector').value = 'new';
            document.getElementById('deleteBtn').classList.add('hidden');

            checkIdAvailability();
            updatePreview();
            updateCode();
            updateOccupiedIds();
        }

        function checkIdAvailability() {
            const idInput = document.getElementById('newsId');
            const id = parseInt(idInput.value);
            const status = document.getElementById('idStatus');

            if (!id || id < 1) {
                status.textContent = '‚ùå';
                status.className = 'id-status id-error';
                return false;
            }

            const existingNews = newsData.find(n => n.id === id);
            const isCurrentNews = currentNewsId === id;

            if (existingNews && !isCurrentNews) {
                status.textContent = '‚ö†Ô∏è –ó–∞–Ω—è—Ç';
                status.className = 'id-status id-warning';
                return false;
            } else {
                status.textContent = '‚úì –°–≤–æ–±–æ–¥–µ–Ω';
                status.className = 'id-status id-ok';
                return true;
            }
        }

        function saveNews() {
            const id = parseInt(document.getElementById('newsId').value);
            const title = document.getElementById('newsTitle').value;
            const date = document.getElementById('newsDate').value;
            const text = document.getElementById('newsText').value;
            const image = document.getElementById('newsImage').value;

            if (!id || !title || !date || !text || !image) {
                alert('–ó–∞–ø–æ–ª–Ω–∏—Ç–µ –≤—Å–µ –ø–æ–ª—è!');
                return;
            }

            if (!checkIdAvailability() && !isNewNews) {
                alert('ID –∑–∞–Ω—è—Ç –¥—Ä—É–≥–æ–π –Ω–æ–≤–æ—Å—Ç—å—é! –ò–∑–º–µ–Ω–∏—Ç–µ ID.');
                return;
            }

            const news = { id, title, date, text, image };

            if (isNewNews) {
                newsData.push(news);
                newsData.sort((a, b) => a.id - b.id);
                isNewNews = false;
                currentNewsId = id;
                alert(`‚úÖ –ù–æ–≤–æ—Å—Ç—å ID: ${id} –¥–æ–±–∞–≤–ª–µ–Ω–∞!`);
            } else {
                const index = newsData.findIndex(n => n.id === currentNewsId);
                if (index !== -1) {
                    newsData[index] = news;
                    alert(`‚úÖ –ù–æ–≤–æ—Å—Ç—å ID: ${id} –æ–±–Ω–æ–≤–ª–µ–Ω–∞!`);
                }
            }

            loadNewsSelector();
            updateOccupiedIds();
            updateStats();
            updateDeleteCode();
            document.getElementById('deleteBtn').classList.remove('hidden');
        }

        function confirmDeleteNews() {
            const id = parseInt(document.getElementById('newsId').value);
            const title = document.getElementById('newsTitle').value;

            if (!id || !title) {
                alert('–°–Ω–∞—á–∞–ª–∞ –≤—ã–±–µ—Ä–∏—Ç–µ –Ω–æ–≤–æ—Å—Ç—å –¥–ª—è —É–¥–∞–ª–µ–Ω–∏—è!');
                return;
            }

            document.getElementById('deleteMessage').textContent = `–í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ –Ω–∞–≤—Å–µ–≥–¥–∞ —É–¥–∞–ª–∏—Ç—å –Ω–æ–≤–æ—Å—Ç—å ID: ${id} "${title}"?`;
            document.getElementById('deleteCountdown').classList.add('hidden');
            document.getElementById('confirmDeleteBtn').innerHTML = '<i class="fas fa-fire mr-2"></i>–î–∞, —É–¥–∞–ª–∏—Ç—å –Ω–∞–≤—Å–µ–≥–¥–∞';
            document.getElementById('confirmDeleteBtn').onclick = startDeleteCountdown;
            document.getElementById('deleteModal').style.display = 'flex';
        }

        function startDeleteCountdown() {
            document.getElementById('deleteCountdown').classList.remove('hidden');
            document.getElementById('confirmDeleteBtn').innerHTML = '<i class="fas fa-hourglass-half mr-2"></i>–û–∂–∏–¥–∞–π—Ç–µ...';
            document.getElementById('confirmDeleteBtn').disabled = true;

            let countdown = 3;
            const countdownElement = document.getElementById('countdownNumber');
            countdownElement.textContent = countdown;

            deleteCountdown = setInterval(() => {
                countdown--;
                countdownElement.textContent = countdown;

                if (countdown <= 0) {
                    clearInterval(deleteCountdown);
                    deleteNews();
                }
            }, 1000);
        }

        function closeDeleteModal() {
            if (deleteCountdown) {
                clearInterval(deleteCountdown);
                deleteCountdown = null;
            }
            document.getElementById('deleteModal').style.display = 'none';
        }

        function deleteNews() {
            const id = parseInt(document.getElementById('newsId').value);
            const title = document.getElementById('newsTitle').value;

            if (!id) {
                alert('–û—à–∏–±–∫–∞: ID –Ω–µ —É–∫–∞–∑–∞–Ω');
                return;
            }

            const newsIndex = newsData.findIndex(n => n.id === id);
            if (newsIndex === -1) {
                alert('–ù–æ–≤–æ—Å—Ç—å –Ω–µ –Ω–∞–π–¥–µ–Ω–∞!');
                return;
            }

            // –ù–∞–≤—Å–µ–≥–¥–∞ —É–¥–∞–ª—è–µ–º
            newsData.splice(newsIndex, 1);

            // –û–±–Ω–æ–≤–ª—è–µ–º –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
            loadNewsSelector();
            updateOccupiedIds();
            updateStats();

            // –°–±—Ä–∞—Å—ã–≤–∞–µ–º —Ñ–æ—Ä–º—É
            createNewNews();

            closeDeleteModal();

            // –ñ—ë—Å—Ç–∫–æ–µ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ
            alert(`‚ò†Ô∏è –ù–û–í–û–°–¢–¨ ID: ${id} –£–î–ê–õ–ï–ù–ê –ù–ê–í–°–ï–ì–î–ê!\n\n"${title}"\n\n–í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ. –ï—Å–ª–∏ –Ω—É–∂–Ω–æ –≤–µ—Ä–Ω—É—Ç—å - –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ä–µ–∑–µ—Ä–≤–Ω—É—é –∫–æ–ø–∏—é.`);
        }

        function quickDeleteMode() {
            updateDeleteCode();
            document.getElementById('quickDeleteModal').style.display = 'flex';
        }

        function closeQuickDeleteModal() {
            document.getElementById('quickDeleteModal').style.display = 'none';
        }

        function quickDeleteById() {
            const idInput = document.getElementById('quickDeleteId');
            const id = parseInt(idInput.value);

            if (!id || id < 1) {
                alert('–í–≤–µ–¥–∏—Ç–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π ID!');
                return;
            }

            const newsIndex = newsData.findIndex(n => n.id === id);
            if (newsIndex === -1) {
                alert(`–ù–æ–≤–æ—Å—Ç—å —Å ID: ${id} –Ω–µ –Ω–∞–π–¥–µ–Ω–∞!`);
                return;
            }

            const news = newsData[newsIndex];

            // –ü—Ä—è–º–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ –±–µ–∑ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è (–∫–∞–∫ –∏ –∑–∞–ø—Ä–æ—à–µ–Ω–æ)
            newsData.splice(newsIndex, 1);

            // –û–±–Ω–æ–≤–ª—è–µ–º –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
            loadNewsSelector();
            updateOccupiedIds();
            updateStats();

            idInput.value = '';

            // –ò–Ω—Ñ–æ—Ä–º–∏—Ä—É–µ–º –æ–± —É–¥–∞–ª–µ–Ω–∏–∏
            alert(`‚ö° –ù–æ–≤–æ—Å—Ç—å ID: ${id} "${news.title}" —É–¥–∞–ª–µ–Ω–∞ –Ω–∞–≤—Å–µ–≥–¥–∞!`);
        }

        function deleteAllExceptFirst() {
            if (newsData.length <= 1) {
                alert('–ù–∞ —Å–∞–π—Ç–µ —Ç–æ–ª—å–∫–æ –æ–¥–Ω–∞ –Ω–æ–≤–æ—Å—Ç—å –∏–ª–∏ –Ω–æ–≤–æ—Å—Ç–µ–π –Ω–µ—Ç!');
                return;
            }

            if (!confirm(`–£–î–ê–õ–ò–¢–¨ –í–°–ï –ù–û–í–û–°–¢–ò –ö–†–û–ú–ï –ü–ï–†–í–û–ô?\n\n–ë—É–¥—É—Ç —É–¥–∞–ª–µ–Ω—ã ${newsData.length - 1} –Ω–æ–≤–æ—Å—Ç–∏(–µ–π) –Ω–∞–≤—Å–µ–≥–¥–∞!\n\n–í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ!`)) {
                return;
            }

            // –°–æ—Ö—Ä–∞–Ω—è–µ–º –ø–µ—Ä–≤—É—é –Ω–æ–≤–æ—Å—Ç—å
            const firstNews = newsData.find(n => n.id === 1) || newsData[0];
            newsData = [firstNews];

            // –û–±–Ω–æ–≤–ª—è–µ–º –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
            loadNewsSelector();
            updateOccupiedIds();
            updateStats();
            loadNewsData(firstNews.id);

            alert(`üî• –£–¥–∞–ª–µ–Ω–æ ${newsData.length} –Ω–æ–≤–æ—Å—Ç–µ–π! –û—Å—Ç–∞–ª–∞—Å—å —Ç–æ–ª—å–∫–æ –ø–µ—Ä–≤–∞—è –Ω–æ–≤–æ—Å—Ç—å.`);
        }

        function deleteAllNews() {
            if (newsData.length === 0) {
                alert('–ù–æ–≤–æ—Å—Ç–µ–π –Ω–µ—Ç –¥–ª—è —É–¥–∞–ª–µ–Ω–∏—è!');
                return;
            }

            if (!confirm(`‚ò¢Ô∏è –£–î–ê–õ–ò–¢–¨ –í–°–ï –ù–û–í–û–°–¢–ò –ù–ê–í–°–ï–ì–î–ê?\n\n–ë—É–¥—É—Ç —É–¥–∞–ª–µ–Ω—ã –í–°–ï ${newsData.length} –Ω–æ–≤–æ—Å—Ç–∏(–µ–π)!\n\n–°–∞–π—Ç –æ—Å—Ç–∞–Ω–µ—Ç—Å—è –±–µ–∑ –Ω–æ–≤–æ—Å—Ç–µ–π!\n\n–≠—Ç–æ –¥–µ–π—Å—Ç–≤–∏–µ –Ω–µ–æ–±—Ä–∞—Ç–∏–º–æ!`)) {
                return;
            }

            // –°–æ–∑–¥–∞—ë–º –±—ç–∫–∞–ø –ø–µ—Ä–µ–¥ —É–¥–∞–ª–µ–Ω–∏–µ–º
            createBackup();

            // –£–¥–∞–ª—è–µ–º –≤—Å–µ
            newsData = [];

            // –û–±–Ω–æ–≤–ª—è–µ–º –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
            loadNewsSelector();
            updateOccupiedIds();
            updateStats();
            createNewNews();

            alert(`üíÄ –í–°–ï –ù–û–í–û–°–¢–ò –£–î–ê–õ–ï–ù–´ –ù–ê–í–°–ï–ì–î–ê!\n\n–°–∞–π—Ç –æ—Å—Ç–∞–ª—Å—è –±–µ–∑ –Ω–æ–≤–æ—Å—Ç–µ–π.\n\n–†–µ–∑–µ—Ä–≤–Ω–∞—è –∫–æ–ø–∏—è –±—ã–ª–∞ —Å–æ–∑–¥–∞–Ω–∞ –≤—ã—à–µ.`);
        }

        function updateDeleteCode() {
            const id = parseInt(document.getElementById('newsId').value) || currentNewsId;
            let deleteCode = '';

            if (id) {
                const news = newsData.find(n => n.id === id);
                if (news) {
                    deleteCode = `// –£–î–ê–õ–ï–ù–ò–ï –ù–û–í–û–°–¢–ò ID: ${id} (–ù–ê–í–°–ï–ì–î–ê)
// –£–¥–∞–ª–∏—Ç–µ —ç—Ç–æ—Ç —ç–ª–µ–º–µ–Ω—Ç –∏–∑ –º–∞—Å—Å–∏–≤–∞ allNewsData:
{
  id: ${id},
  title: "${news.title}",
  date: "${news.date}",
  text: "${news.text.replace(/"/g, '\\"').replace(/\n/g, '\\n')}",
  image: "${news.image}"
}

// –ò–ª–∏ —É–¥–∞–ª–∏—Ç–µ —Å—Ç—Ä–æ–∫—É —Å –Ω–æ–≤–æ—Å—Ç—å—é –∏–∑ –º–∞—Å—Å–∏–≤–∞
// –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ –±–µ–∑ —Ä–µ–∑–µ—Ä–≤–Ω–æ–π –∫–æ–ø–∏–∏!`;
                }
            }

            document.getElementById('deleteCodeOutput').textContent = deleteCode ||
                '// –ß—Ç–æ–±—ã —É–¥–∞–ª–∏—Ç—å –Ω–æ–≤–æ—Å—Ç—å –Ω–∞–≤—Å–µ–≥–¥–∞, —É–±–µ—Ä–∏—Ç–µ –µ—ë –∏–∑ –º–∞—Å—Å–∏–≤–∞ allNewsData';
        }

        function copyDeleteCode() {
            const code = document.getElementById('deleteCodeOutput').textContent;
            navigator.clipboard.writeText(code).then(() => {
                const btn = document.getElementById('copyDeleteButton');
                const originalText = btn.innerHTML;
                btn.innerHTML = '<i class="fas fa-check mr-1"></i> –°–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–æ!';
                btn.classList.add('copied');

                setTimeout(() => {
                    btn.innerHTML = originalText;
                    btn.classList.remove('copied');
                }, 2000);
            });
        }

        function createBackup() {
            const backup = {
                timestamp: new Date().toISOString(),
                newsCount: newsData.length,
                news: newsData
            };

            document.getElementById('backupOutput').textContent = JSON.stringify(backup, null, 2);
            closeQuickDeleteModal();
            document.getElementById('backupModal').style.display = 'flex';

            // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ –±—É—Ñ–µ—Ä –æ–±–º–µ–Ω–∞
            copyBackup();
        }

        function copyBackup() {
            const backup = {
                timestamp: new Date().toISOString(),
                newsCount: newsData.length,
                news: newsData
            };

            const backupText = JSON.stringify(backup, null, 2);
            navigator.clipboard.writeText(backupText).then(() => {
                alert('‚úÖ –†–µ–∑–µ—Ä–≤–Ω–∞—è –∫–æ–ø–∏—è —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∞ –≤ –±—É—Ñ–µ—Ä –æ–±–º–µ–Ω–∞!\n\n–°–æ—Ö—Ä–∞–Ω–∏—Ç–µ –µ—ë –≤ —Ç–µ–∫—Å—Ç–æ–≤–æ–º —Ñ–∞–π–ª–µ –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏.');
            });
        }

        function closeBackupModal() {
            document.getElementById('backupModal').style.display = 'none';
        }

        function updatePreview() {
            const id = document.getElementById('newsId').value || '?';
            const title = document.getElementById('newsTitle').value || '–ó–∞–≥–æ–ª–æ–≤–æ–∫ –Ω–æ–≤–æ—Å—Ç–∏';
            const date = document.getElementById('newsDate').value || '–î–∞—Ç–∞';
            const text = document.getElementById('newsText').value || '–¢–µ–∫—Å—Ç –Ω–æ–≤–æ—Å—Ç–∏ –±—É–¥–µ—Ç –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å—Å—è –∑–¥–µ—Å—å...';
            const image = document.getElementById('newsImage').value;

            document.getElementById('previewTitle').textContent = title;
            document.getElementById('previewId').textContent = `ID: ${id}`;
            document.getElementById('previewDate').textContent = date;
            document.getElementById('previewText').textContent = text;

            const imagePreview = document.getElementById('imagePreview');
            if (image) {
                imagePreview.innerHTML = `<img src="${image}" alt="–ü—Ä–µ–≤—å—é" class="w-full h-full object-cover" onerror="this.onerror=null; this.parentElement.innerHTML='<i class=\\'fas fa-image text-3xl\\'></i><div class=\\'text-xs mt-2\\'>–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏</div>';">`;
            } else {
                imagePreview.innerHTML = '<i class="fas fa-image text-3xl"></i>';
            }
        }

        function updateCode() {
            const id = document.getElementById('newsId').value || '1';
            const title = document.getElementById('newsTitle').value || '–ó–∞–≥–æ–ª–æ–≤–æ–∫ –Ω–æ–≤–æ—Å—Ç–∏';
            const date = document.getElementById('newsDate').value || '–î–∞—Ç–∞';
            const text = document.getElementById('newsText').value || '–¢–µ–∫—Å—Ç –Ω–æ–≤–æ—Å—Ç–∏';
            const image = document.getElementById('newsImage').value || 'https://example.com/image.jpg';

            const escapedText = text.replace(/"/g, '\\"').replace(/\n/g, '\\n');

            const code = `{
  id: ${id},
  title: "${title}",
  date: "${date}",
  text: "${escapedText}",
  image: "${image}"
}`;

            document.getElementById('codeOutput').textContent = code;
        }

        function copyCode() {
            const code = document.getElementById('codeOutput').textContent;
            navigator.clipboard.writeText(code).then(() => {
                const btn = document.getElementById('copyButton');
                const originalText = btn.innerHTML;
                btn.innerHTML = '<i class="fas fa-check mr-1"></i> –°–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–æ!';
                btn.classList.add('copied');

                setTimeout(() => {
                    btn.innerHTML = originalText;
                    btn.classList.remove('copied');
                }, 2000);
            });
        }

        function showAllCode() {
            const currentId = parseInt(document.getElementById('newsId').value);
            const currentTitle = document.getElementById('newsTitle').value;
            const currentDate = document.getElementById('newsDate').value;
            const currentText = document.getElementById('newsText').value;
            const currentImage = document.getElementById('newsImage').value;

            let tempData = [...newsData];
            const existingIndex = tempData.findIndex(n => n.id === currentId);

            if (existingIndex !== -1) {
                tempData[existingIndex] = {
                    id: currentId,
                    title: currentTitle,
                    date: currentDate,
                    text: currentText,
                    image: currentImage
                };
            } else if (currentTitle || currentDate || currentText || currentImage) {
                tempData.push({
                    id: currentId,
                    title: currentTitle,
                    date: currentDate,
                    text: currentText,
                    image: currentImage
                });
                tempData.sort((a, b) => a.id - b.id);
            }

            const fullCode = `// ================================
// –ù–û–í–û–°–¢–ò (${tempData.length} —à—Ç.)
// –£–î–ê–õ–ï–ù–ò–ï –ù–ê–í–°–ï–ì–î–ê - –í–û–°–°–¢–ê–ù–û–í–õ–ï–ù–ò–ï –ù–ï–í–û–ó–ú–û–ñ–ù–û
// ================================
this.allNewsData = [
${tempData.map(news => `  // ID ${news.id} ${news.id === 1 ? '(–ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è —Å—Ä–∞–∑—É)' : ''}
  {
    id: ${news.id},
    title: "${news.title.replace(/"/g, '\\"')}",
    date: "${news.date}",
    text: "${news.text.replace(/"/g, '\\"').replace(/\n/g, '\\n')}",
    image: "${news.image}"
  }${tempData.indexOf(news) < tempData.length - 1 ? ',' : ''}`).join('\n\n')}
];`;

            document.getElementById('allCodeOutput').textContent = fullCode;
            document.getElementById('allCodeModal').style.display = 'flex';
        }

        function closeAllCodeModal() {
            document.getElementById('allCodeModal').style.display = 'none';
        }

        function copyAllCode() {
            const code = document.getElementById('allCodeOutput').textContent;
            navigator.clipboard.writeText(code).then(() => {
                const modal = document.getElementById('allCodeModal');
                const copyBtn = modal.querySelector('button.bg-amber-500');
                const originalText = copyBtn.innerHTML;
                copyBtn.innerHTML = '<i class="fas fa-check mr-2"></i>–°–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–æ!';
                copyBtn.classList.add('bg-green-500');

                setTimeout(() => {
                    copyBtn.innerHTML = originalText;
                    copyBtn.classList.remove('bg-green-500');
                }, 2000);
            });
        }

        function showHelp() {
            alert(`‚ò†Ô∏è –£–î–ê–õ–ï–ù–ò–ï –ù–û–í–û–°–¢–ï–ô –ù–ê–í–°–ï–ì–î–ê

–í–ù–ò–ú–ê–ù–ò–ï: –í—Å–µ —É–¥–∞–ª–µ–Ω–∏—è –±–µ–∑–≤–æ–∑–≤—Ä–∞—Ç–Ω—ã!

üõ°Ô∏è –ú–ï–†–´ –ü–†–ï–î–û–°–¢–û–†–û–ñ–ù–û–°–¢–ò:
1. –í—Å–µ–≥–¥–∞ —Å–æ–∑–¥–∞–≤–∞–π—Ç–µ —Ä–µ–∑–µ—Ä–≤–Ω—É—é –∫–æ–ø–∏—é –ø–µ—Ä–µ–¥ —É–¥–∞–ª–µ–Ω–∏–µ–º
2. –°–æ—Ö—Ä–∞–Ω—è–π—Ç–µ –∫–æ–¥ –Ω–æ–≤–æ—Å—Ç–µ–π –≤ –æ—Ç–¥–µ–ª—å–Ω–æ–º —Ñ–∞–π–ª–µ
3. –£–¥–∞–ª–µ–Ω–∏–µ –Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ –æ—Ç–º–µ–Ω–∏—Ç—å

üóëÔ∏è –°–ü–û–°–û–ë–´ –£–î–ê–õ–ï–ù–ò–Ø:
1. –£–¥–∞–ª–µ–Ω–∏–µ –æ–¥–Ω–æ–π –Ω–æ–≤–æ—Å—Ç–∏:
   ‚Ä¢ –í—ã–±–µ—Ä–∏—Ç–µ –Ω–æ–≤–æ—Å—Ç—å ‚Üí "–£–¥–∞–ª–∏—Ç—å –Ω–∞–≤—Å–µ–≥–¥–∞"
   ‚Ä¢ 3-—Å–µ–∫—É–Ω–¥–Ω–æ–µ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ

2. –ë—ã—Å—Ç—Ä–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ –ø–æ ID:
   ‚Ä¢ –í–≤–µ–¥–∏—Ç–µ ID ‚Üí –º–≥–Ω–æ–≤–µ–Ω–Ω–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ
   ‚Ä¢ –ë–µ–∑ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è (–æ–ø–∞—Å–Ω–æ!)

3. –ú–∞—Å—Å–æ–≤–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ:
   ‚Ä¢ "–£–¥–∞–ª–∏—Ç—å –≤—Å–µ, –∫—Ä–æ–º–µ –ø–µ—Ä–≤–æ–π" 
   ‚Ä¢ "–£–¥–∞–ª–∏—Ç—å –í–°–ï –Ω–æ–≤–æ—Å—Ç–∏" (–æ—á–∏—Å—Ç–∫–∞ —Å–∞–π—Ç–∞)

üíæ –°–û–•–†–ê–ù–ï–ù–ò–ï –î–ê–ù–ù–´–•:
‚Ä¢ –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ "–°–æ–∑–¥–∞—Ç—å –±—ç–∫–∞–ø" –ø–µ—Ä–µ–¥ —É–¥–∞–ª–µ–Ω–∏–µ–º
‚Ä¢ –°–æ—Ö—Ä–∞–Ω—è–π—Ç–µ JSON —Ñ–∞–π–ª –Ω–∞ –∫–æ–º–ø—å—é—Ç–µ—Ä–µ
‚Ä¢ –î–ª—è –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è –∑–∞–º–µ–Ω–∏—Ç–µ –º–∞—Å—Å–∏–≤ allNewsData

‚ö†Ô∏è –ü–û–ú–ù–ò–¢–ï: –ü–æ—Å–ª–µ —É–¥–∞–ª–µ–Ω–∏—è –Ω–æ–≤–æ—Å—Ç—å –∏—Å—á–µ–∑–Ω–µ—Ç –Ω–∞–≤—Å–µ–≥–¥–∞!`);
        }

        document.querySelectorAll('#newsId, #newsTitle, #newsDate, #newsText, #newsImage').forEach(input => {
            input.addEventListener('input', updateCode);
        });
    </script>
</body>

</html>