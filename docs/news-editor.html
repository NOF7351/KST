<!DOCTYPE html>
<html lang="ru">

<head>
    <meta charset="UTF-8">
    <title>–†–µ–¥–∞–∫—Ç–æ—Ä –Ω–æ–≤–æ—Å—Ç–µ–π - –ö–°–¢</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        /* –°—Ç–∏–ª–∏ –æ—Å—Ç–∞—é—Ç—Å—è –ø—Ä–µ–∂–Ω–∏–º–∏ */
        .preview-card {
            border: 2px dashed #d1d5db;
        }

        .code-block {
            font-family: 'Courier New', monospace;
            background: #1e293b;
            color: #e2e8f0;
            padding: 1rem;
            border-radius: 0.5rem;
            position: relative;
            overflow-x: auto;
        }

        .copy-btn {
            position: absolute;
            top: 0.5rem;
            right: 0.5rem;
            background: rgba(255, 255, 255, 0.1);
            border: none;
            color: white;
            padding: 0.25rem 0.75rem;
            border-radius: 0.25rem;
            cursor: pointer;
            transition: background 0.3s;
        }

        .copy-btn:hover {
            background: rgba(255, 255, 255, 0.2);
        }

        .copy-btn.copied {
            background: #10b981;
        }

        .id-badge {
            display: inline-block;
            padding: 2px 8px;
            border-radius: 12px;
            font-size: 0.75rem;
            font-weight: bold;
            margin: 2px;
            cursor: pointer;
            transition: all 0.3s;
        }

        .id-occupied {
            background-color: #f59e0b;
            color: white;
        }

        .id-occupied:hover {
            background-color: #d97706;
            transform: scale(1.1);
        }

        .id-available {
            background-color: #10b981;
            color: white;
        }

        .id-available:hover {
            background-color: #059669;
            transform: scale(1.1);
        }

        .id-current {
            background-color: #3b82f6;
            color: white;
            border: 2px solid white;
            box-shadow: 0 0 0 1px #3b82f6;
            transform: scale(1.1);
        }

        .id-input-wrapper {
            position: relative;
        }

        .id-input-wrapper input {
            padding-right: 40px;
        }

        .id-status {
            position: absolute;
            right: 10px;
            top: 50%;
            transform: translateY(-50%);
            font-size: 0.75rem;
            font-weight: bold;
        }

        .id-ok {
            color: #10b981;
        }

        .id-warning {
            color: #f59e0b;
        }

        .id-error {
            color: #ef4444;
        }

        .danger-zone {
            border: 2px solid #ef4444;
            background: linear-gradient(135deg, #fee2e2 0%, #fecaca 100%);
        }

        .delete-btn {
            background: linear-gradient(135deg, #ef4444 0%, #dc2626 100%);
            color: white;
            border: none;
        }

        .delete-btn:hover {
            background: linear-gradient(135deg, #dc2626 0%, #b91c1c 100%);
            transform: scale(1.05);
        }

        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.5);
            display: none;
            align-items: center;
            justify-content: center;
            z-index: 1000;
        }

        .modal-content {
            background: white;
            border-radius: 1rem;
            max-width: 500px;
            width: 90%;
            max-height: 90vh;
            overflow-y: auto;
        }

        .permanent-delete {
            background: linear-gradient(135deg, #b91c1c 0%, #7f1d1d 100%);
            color: white;
        }

        .permanent-delete:hover {
            background: linear-gradient(135deg, #991b1b 0%, #450a0a 100%);
        }

        .loading {
            display: inline-block;
            width: 20px;
            height: 20px;
            border: 3px solid #f3f3f3;
            border-top: 3px solid #f59e0b;
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            0% {
                transform: rotate(0deg);
            }

            100% {
                transform: rotate(360deg);
            }
        }
    </style>
</head>

<body class="bg-gray-50 p-4 md:p-8">
    <div class="max-w-6xl mx-auto">
        <div class="flex items-center justify-between mb-6">
            <div>
                <h1 class="text-2xl md:text-3xl font-bold mb-1">üì∞ –†–µ–¥–∞–∫—Ç–æ—Ä –Ω–æ–≤–æ—Å—Ç–µ–π</h1>
                <p class="text-gray-600">–ù–æ–≤–æ—Å—Ç–∏ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –æ—Ç –Ω–æ–≤—ã—Ö –∫ —Å—Ç–∞—Ä—ã–º (–ø–æ —É–±—ã–≤–∞–Ω–∏—é ID)</p>
            </div>
            <div class="flex items-center gap-3">
                <button onclick="loadFromNewsJS()"
                    class="flex items-center gap-2 bg-blue-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600 transition">
                    <i class="fas fa-sync-alt"></i>
                    <span class="hidden md:inline">–û–±–Ω–æ–≤–∏—Ç—å</span>
                </button>
                <div id="loadStatus" class="text-sm text-gray-600 hidden">
                    <span class="loading"></span> –ó–∞–≥—Ä—É–∑–∫–∞...
                </div>
            </div>
        </div>

        <!-- –ü–∞–Ω–µ–ª—å —Å –∑–∞–Ω—è—Ç—ã–º–∏ ID -->
        <div class="bg-white rounded-lg shadow-lg p-4 mb-6">
            <div class="flex flex-wrap items-center justify-between gap-4 mb-3">
                <h3 class="font-bold flex items-center">
                    <i class="fas fa-id-card mr-2 text-amber-600"></i>
                    –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ ID –Ω–æ–≤–æ—Å—Ç–µ–π
                </h3>
                <div class="text-sm">
                    <span class="text-gray-600">–í—Å–µ–≥–æ: <span class="font-bold" id="totalNewsCount">0</span></span>
                    <span class="mx-2">‚Ä¢</span>
                    <span class="text-amber-600">–ê–∫—Ç–∏–≤–Ω—ã—Ö: <span class="font-bold" id="activeNewsCount">0</span></span>
                </div>
            </div>

            <div class="flex flex-wrap gap-2 mb-3">
                <span class="text-sm text-gray-600 mr-2">–ó–∞–Ω—è—Ç—ã–µ ID (—Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞: –Ω–æ–≤—ã–µ‚Üí—Å—Ç–∞—Ä—ã–µ):</span>
                <div id="occupiedIds"></div>
            </div>

            <div class="text-sm text-gray-500">
                <i class="fas fa-info-circle mr-1"></i>
                <span id="idStatusText">–í—Å–µ ID —Å–≤–æ–±–æ–¥–Ω—ã. –°–æ–∑–¥–∞–π—Ç–µ –ø–µ—Ä–≤—É—é –Ω–æ–≤–æ—Å—Ç—å.</span>
            </div>
        </div>

        <div class="grid lg:grid-cols-2 gap-6 md:gap-8">
            <!-- –§–æ—Ä–º–∞ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è -->
            <div class="bg-white rounded-lg shadow-lg p-4 md:p-6">
                <h2 class="text-lg md:text-xl font-bold mb-4">‚úèÔ∏è –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –Ω–æ–≤–æ—Å—Ç–∏</h2>

                <!-- –°–µ–ª–µ–∫—Ç–æ—Ä –¥–ª—è –≤—ã–±–æ—Ä–∞ –Ω–æ–≤–æ—Å—Ç–∏ -->
                <div class="mb-6">
                    <label class="block text-sm font-medium mb-2">–í—ã–±–µ—Ä–∏—Ç–µ –Ω–æ–≤–æ—Å—Ç—å:</label>
                    <select id="newsSelector" class="w-full border rounded-lg px-4 py-2 bg-white mb-4">
                        <option value="">-- –ó–∞–≥—Ä—É–∑–∫–∞ –Ω–æ–≤–æ—Å—Ç–µ–π... --</option>
                    </select>

                    <div class="id-input-wrapper">
                        <label class="block text-sm font-medium mb-2">üÜî ID –Ω–æ–≤–æ—Å—Ç–∏ (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –±–æ–ª—å—à–∏–µ
                            —á–∏—Å–ª–∞ –¥–ª—è –Ω–æ–≤—ã—Ö –Ω–æ–≤–æ—Å—Ç–µ–π):</label>
                        <input type="number" id="newsId" min="1" max="999" class="w-full border rounded-lg px-4 py-2"
                            placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: 100" disabled>
                        <span id="idStatus" class="id-status"></span>
                    </div>
                    <div class="text-xs text-gray-500 mt-1">
                        <i class="fas fa-lightbulb mr-1"></i>
                        –°–æ–≤–µ—Ç: –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –±–æ–ª—å—à–∏–µ ID (100, 101, 102...) –¥–ª—è –Ω–æ–≤—ã—Ö –Ω–æ–≤–æ—Å—Ç–µ–π, —á—Ç–æ–±—ã –æ–Ω–∏ –æ—Ç–æ–±—Ä–∞–∂–∞–ª–∏—Å—å
                        –ø–µ—Ä–≤—ã–º–∏
                    </div>
                </div>

                <!-- –§–æ—Ä–º–∞ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è -->
                <div class="space-y-4">
                    <div>
                        <label class="block text-sm font-medium mb-1">üìå –ó–∞–≥–æ–ª–æ–≤–æ–∫</label>
                        <input type="text" id="newsTitle" class="w-full border rounded-lg px-4 py-2"
                            placeholder="–í–≤–µ–¥–∏—Ç–µ –∑–∞–≥–æ–ª–æ–≤–æ–∫ –Ω–æ–≤–æ—Å—Ç–∏" disabled>
                    </div>
                    <div>
                        <label class="block text-sm font-medium mb-1">üìÖ –î–∞—Ç–∞</label>
                        <input type="text" id="newsDate" class="w-full border rounded-lg px-4 py-2"
                            placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: 20 –Ω–æ—è–±—Ä—è 2025" disabled>
                    </div>
                    <div>
                        <label class="block text-sm font-medium mb-1">üìù –¢–µ–∫—Å—Ç –Ω–æ–≤–æ—Å—Ç–∏</label>
                        <textarea id="newsText" class="w-full border rounded-lg px-4 py-2 h-32"
                            placeholder="–í–≤–µ–¥–∏—Ç–µ —Ç–µ–∫—Å—Ç –Ω–æ–≤–æ—Å—Ç–∏" disabled></textarea>
                    </div>
                    <div>
                        <label class="block text-sm font-medium mb-1">üñºÔ∏è URL –∫–∞—Ä—Ç–∏–Ω–∫–∏</label>
                        <input type="text" id="newsImage" class="w-full border rounded-lg px-4 py-2"
                            placeholder="https://example.com/image.jpg" disabled>
                        <p class="text-sm text-gray-500 mt-1">–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–π —Ä–∞–∑–º–µ—Ä: 1200√ó600px</p>
                    </div>
                </div>

                <!-- –ö–Ω–æ–ø–∫–∏ –¥–µ–π—Å—Ç–≤–∏–π -->
                <div class="flex flex-wrap gap-3 mt-8">
                    <button onclick="saveNews()"
                        class="flex-1 bg-amber-500 text-white px-6 py-3 rounded-lg hover:bg-amber-600 transition font-medium"
                        disabled>
                        <i class="fas fa-save mr-2"></i>–°–æ—Ö—Ä–∞–Ω–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è
                    </button>
                    <button onclick="confirmDeleteNews()" id="deleteBtn"
                        class="flex-1 delete-btn px-6 py-3 rounded-lg transition font-medium hidden" disabled>
                        <i class="fas fa-trash-alt mr-2"></i>–£–¥–∞–ª–∏—Ç—å –Ω–∞–≤—Å–µ–≥–¥–∞
                    </button>
                </div>
            </div>

            <!-- –ö–æ–¥ –¥–ª—è –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è –∏ –ø—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä -->
            <div class="space-y-6 md:space-y-8">
                <!-- –ö–æ–¥ –¥–ª—è –∑–∞–º–µ–Ω—ã -->
                <div class="bg-white rounded-lg shadow-lg p-4 md:p-6">
                    <h2 class="text-lg md:text-xl font-bold mb-3 flex items-center justify-between">
                        <span>üìã –ö–æ–¥ –¥–ª—è –∑–∞–º–µ–Ω—ã</span>
                        <span class="text-sm font-normal text-amber-600" id="newsNumber"></span>
                    </h2>

                    <div class="code-block mb-4">
                        <button onclick="copyCode()" class="copy-btn" id="copyButton" disabled>
                            <i class="far fa-copy mr-1"></i> –ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å
                        </button>
                        <pre id="codeOutput">// –í—Å–µ ID —Å–≤–æ–±–æ–¥–Ω—ã. –°–æ–∑–¥–∞–π—Ç–µ –ø–µ—Ä–≤—É—é –Ω–æ–≤–æ—Å—Ç—å.</pre>
                    </div>

                    <div class="text-sm text-gray-600 mb-3">
                        <p class="mb-1">üìù <strong>–ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è:</strong></p>
                        <ol class="list-decimal pl-5 space-y-1">
                            <li>–°–æ–∑–¥–∞–π—Ç–µ –∏–ª–∏ –æ—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ –Ω–æ–≤–æ—Å—Ç—å –≤ —Ñ–æ—Ä–º–µ —Å–ª–µ–≤–∞</li>
                            <li>–ù–∞–∂–º–∏—Ç–µ "–°–æ—Ö—Ä–∞–Ω–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è"</li>
                            <li>–ù–∞–∂–º–∏—Ç–µ "–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å –∫–æ–¥"</li>
                            <li>–û—Ç–∫—Ä–æ–π—Ç–µ —Ñ–∞–π–ª <code class="bg-gray-100 px-1 rounded">components/news.js</code></li>
                            <li>–ó–∞–º–µ–Ω–∏—Ç–µ –≤–µ—Å—å –º–∞—Å—Å–∏–≤ <code class="bg-gray-100 px-1 rounded">allNewsData</code>
                                —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–Ω—ã–º –∫–æ–¥–æ–º</li>
                            <li>–°–æ—Ö—Ä–∞–Ω–∏—Ç–µ —Ñ–∞–π–ª –∏ –æ–±–Ω–æ–≤–∏—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É —Å–∞–π—Ç–∞</li>
                        </ol>
                    </div>

                    <div class="flex gap-2 mt-4">
                        <button onclick="showHelp()"
                            class="flex-1 bg-gray-500 text-white px-4 py-2 rounded-lg hover:bg-gray-600 transition text-sm">
                            <i class="fas fa-question-circle mr-1"></i> –ü–æ–º–æ—â—å
                        </button>
                    </div>
                </div>

                <!-- –ü—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä -->
                <div class="bg-white rounded-lg shadow-lg p-4 md:p-6">
                    <h2 class="text-lg md:text-xl font-bold mb-3">üëÅÔ∏è –ü—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä (–Ω–æ–≤—ã–µ ‚Üí —Å—Ç–∞—Ä—ã–µ)</h2>
                    <div class="preview-card rounded-lg p-4">
                        <div class="flex justify-between items-start mb-3">
                            <div>
                                <h3 class="text-lg font-bold text-gray-800" id="previewTitle">–ó–∞–≥–æ–ª–æ–≤–æ–∫ –Ω–æ–≤–æ—Å—Ç–∏</h3>
                                <div class="flex items-center mt-1">
                                    <span class="text-xs bg-blue-100 text-blue-800 px-2 py-1 rounded mr-2"
                                        id="previewId">ID: ?</span>
                                    <span
                                        class="text-xs md:text-sm text-amber-600 font-medium bg-amber-50 px-2 md:px-3 py-1 rounded-full"
                                        id="previewDate">–î–∞—Ç–∞</span>
                                    <span class="text-xs bg-green-100 text-green-800 px-2 py-1 rounded ml-2 hidden"
                                        id="previewNewest">–ù–æ–≤–∞—è</span>
                                </div>
                            </div>
                        </div>
                        <p class="text-gray-600 text-sm md:text-base mb-3" id="previewText">–°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤–æ—Å—Ç—å –¥–ª—è
                            –ø—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä–∞</p>
                        <div class="mt-3">
                            <div class="text-xs text-gray-500 mb-1">–ü—Ä–µ–≤—å—é –∫–∞—Ä—Ç–∏–Ω–∫–∏:</div>
                            <div class="bg-gray-100 h-32 md:h-40 rounded-lg overflow-hidden">
                                <div id="imagePreview"
                                    class="w-full h-full flex items-center justify-center text-gray-400">
                                    <i class="fas fa-image text-3xl"></i>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–µ -->
                    <div class="mt-6 bg-blue-50 border border-blue-200 rounded-lg p-4">
                        <h3 class="font-bold text-blue-700 mb-2 flex items-center">
                            <i class="fas fa-sort-amount-down mr-2"></i>
                            –ü–æ—Ä—è–¥–æ–∫ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –Ω–∞ —Å–∞–π—Ç–µ
                        </h3>
                        <p class="text-sm text-blue-600">
                            –ù–∞ —Å–∞–π—Ç–µ –Ω–æ–≤–æ—Å—Ç–∏ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –≤ –ø–æ—Ä—è–¥–∫–µ: <strong>–ù–û–í–´–ï ‚Üí –°–¢–ê–†–´–ï</strong><br>
                            –ù–æ–≤–æ—Å—Ç—å —Å –Ω–∞–∏–±–æ–ª—å—à–∏–º ID –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –ø–µ—Ä–≤–æ–π.
                        </p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ —É–¥–∞–ª–µ–Ω–∏—è -->
    <div id="deleteModal" class="modal-overlay">
        <div class="modal-content max-w-md">
            <div class="p-6">
                <div class="text-center mb-6">
                    <div class="w-20 h-20 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4">
                        <i class="fas fa-exclamation-triangle text-red-600 text-3xl"></i>
                    </div>
                    <h3 class="text-xl font-bold text-gray-900 mb-2">–£–¥–∞–ª–∏—Ç—å –Ω–æ–≤–æ—Å—Ç—å –Ω–∞–≤—Å–µ–≥–¥–∞?</h3>
                    <p class="text-gray-600" id="deleteMessage"></p>
                </div>

                <div class="flex gap-3">
                    <button onclick="deleteNews()" class="flex-1 delete-btn px-6 py-3 rounded-lg font-medium">
                        <i class="fas fa-trash-alt mr-2"></i>–î–∞, —É–¥–∞–ª–∏—Ç—å
                    </button>
                    <button onclick="closeDeleteModal()"
                        class="flex-1 bg-gray-500 text-white px-6 py-3 rounded-lg hover:bg-gray-600 font-medium">
                        –û—Ç–º–µ–Ω–∞
                    </button>
                </div>
            </div>
        </div>
    </div>

    <script>
        // –ì–ª–æ–±–∞–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ
        let newsData = [];
        let currentNewsId = null;
        let isNewNews = false;

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
        document.addEventListener('DOMContentLoaded', function () {
            // –ó–∞–≥—Ä—É–∂–∞–µ–º –¥–∞–Ω–Ω—ã–µ –∏–∑ news.js –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
            loadFromNewsJS();

            // –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Å–æ–±—ã—Ç–∏–π
            document.getElementById('newsSelector').addEventListener('change', function () {
                if (this.value === 'new') {
                    createNewNews();
                } else if (this.value) {
                    loadNewsData(parseInt(this.value));
                }
            });

            document.getElementById('newsId').addEventListener('input', function () {
                checkIdAvailability();
                updateCode();
                updatePreview();
            });

            const inputs = ['newsTitle', 'newsDate', 'newsText', 'newsImage'];
            inputs.forEach(id => {
                document.getElementById(id).addEventListener('input', function () {
                    updatePreview();
                    updateCode();
                });
            });
        });

        // –§—É–Ω–∫—Ü–∏—è –∑–∞–≥—Ä—É–∑–∫–∏ –¥–∞–Ω–Ω—ã—Ö –∏–∑ news.js
        async function loadFromNewsJS() {
            showLoading(true);

            try {
                const response = await fetch('components/news.js');

                if (!response.ok) {
                    throw new Error(`–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏: ${response.status}`);
                }

                const jsContent = await response.text();
                const parsedData = parseNewsFromJS(jsContent);

                if (parsedData) {
                    // –°–æ—Ä—Ç–∏—Ä—É–µ–º –ø–æ —É–±—ã–≤–∞–Ω–∏—é ID –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –≤ —Ä–µ–¥–∞–∫—Ç–æ—Ä–µ
                    newsData = parsedData.sort((a, b) => b.id - a.id);
                    console.log(`‚úÖ –ó–∞–≥—Ä—É–∂–µ–Ω–æ ${newsData.length} –Ω–æ–≤–æ—Å—Ç—å(–µ–π)`);

                    // –û–±–Ω–æ–≤–ª—è–µ–º –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
                    updateStats();
                    updateOccupiedIds();
                    loadNewsSelector();
                    enableForm();

                    // –ó–∞–≥—Ä—É–∂–∞–µ–º –ø–µ—Ä–≤—É—é (—Å–∞–º—É—é –Ω–æ–≤—É—é) –Ω–æ–≤–æ—Å—Ç—å –µ—Å–ª–∏ –µ—Å—Ç—å
                    if (newsData.length > 0) {
                        loadNewsData(newsData[0].id);
                    } else {
                        // –ï—Å–ª–∏ –Ω–µ—Ç –Ω–æ–≤–æ—Å—Ç–µ–π, —Å–æ–∑–¥–∞–µ–º –Ω–æ–≤—É—é
                        createNewNews();
                    }

                    showMessage('‚úÖ –î–∞–Ω–Ω—ã–µ –∑–∞–≥—Ä—É–∂–µ–Ω—ã', 'success');
                }
            } catch (error) {
                console.error('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏:', error);
                showMessage(`‚ùå –û—à–∏–±–∫–∞: ${error.message}`, 'error');

                // –ù–∞—á–∏–Ω–∞–µ–º —Å –ø—É—Å—Ç–æ–≥–æ –º–∞—Å—Å–∏–≤–∞
                newsData = [];
                updateStats();
                updateOccupiedIds();
                loadNewsSelector();
                enableForm();
                createNewNews();
            } finally {
                showLoading(false);
            }
        }

        // –ü–∞—Ä—Å–∏–Ω–≥ –¥–∞–Ω–Ω—ã—Ö –∏–∑ news.js
        function parseNewsFromJS(jsContent) {
            try {
                const arrayMatch = jsContent.match(/this\.allNewsData\s*=\s*\[[\s\S]*?\];/);
                if (!arrayMatch) return [];

                const content = arrayMatch[0].replace(/this\.allNewsData\s*=\s*\[/, '[').replace(/;\s*$/, '');
                const parseFunction = new Function('return ' + content);
                const parsedArray = parseFunction();

                const filteredArray = parsedArray.filter(item => item && typeof item === 'object' && 'id' in item);
                return filteredArray;
            } catch (error) {
                console.error('–û—à–∏–±–∫–∞ –ø–∞—Ä—Å–∏–Ω–≥–∞:', error);
                return [];
            }
        }

        // –ü–æ–∫–∞–∑–∞—Ç—å/—Å–∫—Ä—ã—Ç—å –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä –∑–∞–≥—Ä—É–∑–∫–∏
        function showLoading(show) {
            const statusElement = document.getElementById('loadStatus');
            if (show) {
                statusElement.classList.remove('hidden');
                document.getElementById('idStatusText').innerHTML = '<span class="loading"></span> –ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö...';
            } else {
                statusElement.classList.add('hidden');
            }
        }

        // –ü–æ–∫–∞–∑–∞—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ
        function showMessage(message, type = 'info') {
            const colors = {
                success: 'text-green-600 bg-green-50 border-green-200',
                error: 'text-red-600 bg-red-50 border-red-200',
                info: 'text-blue-600 bg-blue-50 border-blue-200'
            };

            const messageDiv = document.createElement('div');
            messageDiv.className = `fixed top-4 right-4 z-50 px-4 py-3 rounded-lg border ${colors[type]} transition-opacity duration-300`;
            messageDiv.innerHTML = `
                <div class="flex items-center">
                    <i class="fas fa-${type === 'success' ? 'check-circle' : type === 'error' ? 'exclamation-circle' : 'info-circle'} mr-2"></i>
                    <span>${message}</span>
                </div>
            `;

            document.body.appendChild(messageDiv);

            setTimeout(() => {
                messageDiv.style.opacity = '0';
                setTimeout(() => messageDiv.remove(), 300);
            }, 3000);
        }

        // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
        function updateStats() {
            document.getElementById('totalNewsCount').textContent = newsData.length;
            document.getElementById('activeNewsCount').textContent = newsData.length;
        }

        // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∑–∞–Ω—è—Ç—ã—Ö ID (–æ—Ç–æ–±—Ä–∞–∂–∞–µ–º –ø–æ —É–±—ã–≤–∞–Ω–∏—é)
        function updateOccupiedIds() {
            const container = document.getElementById('occupiedIds');
            container.innerHTML = '';

            // –°–æ—Ä—Ç–∏—Ä—É–µ–º –ø–æ —É–±—ã–≤–∞–Ω–∏—é –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è
            const occupiedIds = [...newsData].sort((a, b) => b.id - a.id).map(n => n.id);
            const selectedId = currentNewsId ? parseInt(currentNewsId) : null;

            if (occupiedIds.length === 0) {
                container.innerHTML = '<span class="text-sm text-gray-500">–ù–µ—Ç –∑–∞–Ω—è—Ç—ã—Ö ID</span>';
                document.getElementById('idStatusText').innerHTML = `
                    <i class="fas fa-info-circle mr-1"></i>
                    –í—Å–µ ID —Å–≤–æ–±–æ–¥–Ω—ã. –°–æ–∑–¥–∞–π—Ç–µ –ø–µ—Ä–≤—É—é –Ω–æ–≤–æ—Å—Ç—å.
                `;
                return;
            }

            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –∑–∞–Ω—è—Ç—ã–µ ID
            occupiedIds.forEach(id => {
                const isCurrent = id === selectedId;
                const news = newsData.find(n => n.id === id);

                const badge = document.createElement('span');
                badge.className = `id-badge id-occupied ${isCurrent ? 'id-current' : ''}`;
                badge.textContent = id;
                badge.title = `ID ${id}: ${news?.title?.substring(0, 30) || '–ù–æ–≤–æ—Å—Ç—å'}...`;
                badge.addEventListener('click', function () {
                    loadNewsData(id);
                });

                container.appendChild(badge);
            });

            document.getElementById('idStatusText').innerHTML = `
                <i class="fas fa-info-circle mr-1"></i>
                –ó–∞–Ω—è—Ç—ã–µ ID (–æ—Ç –Ω–æ–≤—ã—Ö –∫ —Å—Ç–∞—Ä—ã–º): ${occupiedIds.join(', ')}
            `;
        }

        // –ó–∞–≥—Ä—É–∑–∫–∞ —Å–µ–ª–µ–∫—Ç–æ—Ä–∞ –Ω–æ–≤–æ—Å—Ç–µ–π (—Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –ø–æ —É–±—ã–≤–∞–Ω–∏—é)
        function loadNewsSelector() {
            const selector = document.getElementById('newsSelector');
            selector.innerHTML = '<option value="">-- –í—ã–±–µ—Ä–∏—Ç–µ –Ω–æ–≤–æ—Å—Ç—å --</option>';

            if (newsData.length === 0) {
                selector.innerHTML = '<option value="">-- –ù–µ—Ç –Ω–æ–≤–æ—Å—Ç–µ–π --</option>';
            }

            // –°–æ—Ä—Ç–∏—Ä—É–µ–º –ø–æ —É–±—ã–≤–∞–Ω–∏—é ID –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –≤ —Å–µ–ª–µ–∫—Ç–æ—Ä–µ
            [...newsData].sort((a, b) => b.id - a.id).forEach(news => {
                const option = document.createElement('option');
                option.value = news.id;
                const isNewest = news.id === Math.max(...newsData.map(n => n.id));
                option.textContent = `ID ${news.id}${isNewest ? ' (—Å–∞–º–∞—è –Ω–æ–≤–∞—è)' : ''}: ${(news.title || '').substring(0, 25)}${(news.title || '').length > 25 ? '...' : ''}`;
                selector.appendChild(option);
            });

            const newOption = document.createElement('option');
            newOption.value = 'new';
            newOption.textContent = '‚ûï –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—É—é –Ω–æ–≤–æ—Å—Ç—å (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –±–æ–ª—å—à–æ–π ID)';
            selector.appendChild(newOption);
        }

        // –ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö –Ω–æ–≤–æ—Å—Ç–∏
        function loadNewsData(newsId) {
            const news = newsData.find(n => n.id === newsId);
            if (news) {
                currentNewsId = newsId;
                isNewNews = false;

                document.getElementById('newsId').value = news.id;
                document.getElementById('newsTitle').value = news.title || '';
                document.getElementById('newsDate').value = news.date || '';
                document.getElementById('newsText').value = news.text || '';
                document.getElementById('newsImage').value = news.image || '';
                document.getElementById('newsNumber').textContent = `(ID: ${news.id})`;

                document.getElementById('newsSelector').value = newsId;
                document.getElementById('deleteBtn').classList.remove('hidden');
                document.getElementById('deleteBtn').disabled = false;

                checkIdAvailability();
                updatePreview();
                updateCode();
                updateOccupiedIds();
            }
        }

        // –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–π –Ω–æ–≤–æ—Å—Ç–∏
        function createNewNews() {
            currentNewsId = null;
            isNewNews = true;

            // –î–ª—è –Ω–æ–≤–æ–π –Ω–æ–≤–æ—Å—Ç–∏ –ø—Ä–µ–¥–ª–∞–≥–∞–µ–º ID –Ω–∞ 1 –±–æ–ª—å—à–µ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–≥–æ
            const allIds = newsData.map(n => n.id).sort((a, b) => a - b);
            let newId = allIds.length > 0 ? Math.max(...allIds) + 1 : 100; // –ù–∞—á–∏–Ω–∞–µ–º —Å 100 –¥–ª—è –Ω–æ–≤—ã—Ö –Ω–æ–≤–æ—Å—Ç–µ–π

            document.getElementById('newsId').value = newId;
            document.getElementById('newsTitle').value = '';
            document.getElementById('newsDate').value = '';
            document.getElementById('newsText').value = '';
            document.getElementById('newsImage').value = '';
            document.getElementById('newsNumber').textContent = '(–ù–æ–≤–∞—è –Ω–æ–≤–æ—Å—Ç—å)';

            document.getElementById('newsSelector').value = 'new';
            document.getElementById('deleteBtn').classList.add('hidden');

            checkIdAvailability();
            updatePreview();
            updateCode();
            updateOccupiedIds();
        }

        // –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ ID
        function checkIdAvailability() {
            const idInput = document.getElementById('newsId');
            const id = parseInt(idInput.value);
            const status = document.getElementById('idStatus');

            if (!id || id < 1) {
                status.textContent = '‚ùå';
                status.className = 'id-status id-error';
                return false;
            }

            const existingNews = newsData.find(n => n.id === id);
            const isCurrentNews = currentNewsId === id;

            if (existingNews && !isCurrentNews) {
                status.textContent = '‚ö†Ô∏è –ó–∞–Ω—è—Ç';
                status.className = 'id-status id-warning';
                return false;
            } else {
                status.textContent = '‚úì –°–≤–æ–±–æ–¥–µ–Ω';
                status.className = 'id-status id-ok';
                return true;
            }
        }

        // –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –Ω–æ–≤–æ—Å—Ç–∏
        function saveNews() {
            const id = parseInt(document.getElementById('newsId').value);
            const title = document.getElementById('newsTitle').value;
            const date = document.getElementById('newsDate').value;
            const text = document.getElementById('newsText').value;
            const image = document.getElementById('newsImage').value;

            if (!id || !title || !date || !text || !image) {
                alert('–ó–∞–ø–æ–ª–Ω–∏—Ç–µ –≤—Å–µ –ø–æ–ª—è!');
                return;
            }

            if (!checkIdAvailability() && !isNewNews) {
                alert('ID –∑–∞–Ω—è—Ç –¥—Ä—É–≥–æ–π –Ω–æ–≤–æ—Å—Ç—å—é! –ò–∑–º–µ–Ω–∏—Ç–µ ID.');
                return;
            }

            const news = { id, title, date, text, image };

            if (isNewNews) {
                // –î–æ–±–∞–≤–ª—è–µ–º –Ω–æ–≤—É—é –Ω–æ–≤–æ—Å—Ç—å
                newsData.push(news);
                // –°–æ—Ä—Ç–∏—Ä—É–µ–º –ø–æ —É–±—ã–≤–∞–Ω–∏—é –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è
                newsData.sort((a, b) => b.id - a.id);
                isNewNews = false;
                currentNewsId = id;
                showMessage(`‚úÖ –ù–æ–≤–æ—Å—Ç—å ID: ${id} –¥–æ–±–∞–≤–ª–µ–Ω–∞!`, 'success');
            } else {
                // –û–±–Ω–æ–≤–ª—è–µ–º —Å—É—â–µ—Å—Ç–≤—É—é—â—É—é
                const index = newsData.findIndex(n => n.id === currentNewsId);
                if (index !== -1) {
                    newsData[index] = news;
                    // –ü–µ—Ä–µ—Å–æ—Ä—Ç–∏—Ä—É–µ–º
                    newsData.sort((a, b) => b.id - a.id);
                    showMessage(`‚úÖ –ù–æ–≤–æ—Å—Ç—å ID: ${id} –æ–±–Ω–æ–≤–ª–µ–Ω–∞!`, 'success');
                }
            }

            loadNewsSelector();
            updateOccupiedIds();
            updateStats();
            document.getElementById('deleteBtn').classList.remove('hidden');

            // –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º –∫–æ–¥ –ø–æ—Å–ª–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è
            updateCode();
        }

        // –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ —É–¥–∞–ª–µ–Ω–∏—è
        function confirmDeleteNews() {
            const id = parseInt(document.getElementById('newsId').value);
            const title = document.getElementById('newsTitle').value;

            if (!id || !title) {
                alert('–°–Ω–∞—á–∞–ª–∞ –≤—ã–±–µ—Ä–∏—Ç–µ –Ω–æ–≤–æ—Å—Ç—å –¥–ª—è —É–¥–∞–ª–µ–Ω–∏—è!');
                return;
            }

            document.getElementById('deleteMessage').textContent = `–£–¥–∞–ª–∏—Ç—å –Ω–æ–≤–æ—Å—Ç—å ID: ${id} "${title}"?`;
            document.getElementById('deleteModal').style.display = 'flex';
        }

        // –£–¥–∞–ª–µ–Ω–∏–µ –Ω–æ–≤–æ—Å—Ç–∏
        function deleteNews() {
            const id = parseInt(document.getElementById('newsId').value);
            const title = document.getElementById('newsTitle').value;

            const newsIndex = newsData.findIndex(n => n.id === id);
            if (newsIndex === -1) {
                alert('–ù–æ–≤–æ—Å—Ç—å –Ω–µ –Ω–∞–π–¥–µ–Ω–∞!');
                return;
            }

            // –£–¥–∞–ª—è–µ–º –Ω–æ–≤–æ—Å—Ç—å
            newsData.splice(newsIndex, 1);

            // –û–±–Ω–æ–≤–ª—è–µ–º –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
            loadNewsSelector();
            updateOccupiedIds();
            updateStats();

            // –°–æ–∑–¥–∞–µ–º –Ω–æ–≤—É—é –Ω–æ–≤–æ—Å—Ç—å
            createNewNews();

            closeDeleteModal();

            showMessage(`üóëÔ∏è –ù–æ–≤–æ—Å—Ç—å ID: ${id} —É–¥–∞–ª–µ–Ω–∞`, 'error');
        }

        // –ó–∞–∫—Ä—ã—Ç–∏–µ –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞
        function closeDeleteModal() {
            document.getElementById('deleteModal').style.display = 'none';
        }

        // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä–∞
        function updatePreview() {
            const id = document.getElementById('newsId').value || '?';
            const title = document.getElementById('newsTitle').value || '–ó–∞–≥–æ–ª–æ–≤–æ–∫ –Ω–æ–≤–æ—Å—Ç–∏';
            const date = document.getElementById('newsDate').value || '–î–∞—Ç–∞';
            const text = document.getElementById('newsText').value || '–¢–µ–∫—Å—Ç –Ω–æ–≤–æ—Å—Ç–∏ –±—É–¥–µ—Ç –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å—Å—è –∑–¥–µ—Å—å...';
            const image = document.getElementById('newsImage').value;

            document.getElementById('previewTitle').textContent = title;
            document.getElementById('previewId').textContent = `ID: ${id}`;
            document.getElementById('previewDate').textContent = date;
            document.getElementById('previewText').textContent = text;

            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –º–µ—Ç–∫—É "–ù–æ–≤–∞—è" –µ—Å–ª–∏ ID –±–æ–ª—å—à–µ –≤—Å–µ—Ö —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö
            const newestLabel = document.getElementById('previewNewest');
            const currentId = parseInt(id);
            const maxId = newsData.length > 0 ? Math.max(...newsData.map(n => n.id)) : 0;

            if (currentId > maxId || (newsData.length === 0 && currentId > 0)) {
                newestLabel.classList.remove('hidden');
                newestLabel.textContent = '–ë—É–¥–µ—Ç —Å–∞–º–æ–π –Ω–æ–≤–æ–π';
            } else if (currentId === maxId && newsData.length > 0) {
                newestLabel.classList.remove('hidden');
                newestLabel.textContent = '–°–∞–º–∞—è –Ω–æ–≤–∞—è';
            } else {
                newestLabel.classList.add('hidden');
            }

            const imagePreview = document.getElementById('imagePreview');
            if (image) {
                imagePreview.innerHTML = `<img src="${image}" alt="–ü—Ä–µ–≤—å—é" class="w-full h-full object-cover" onerror="this.onerror=null; this.parentElement.innerHTML='<i class=\\'fas fa-image text-3xl\\'></i><div class=\\'text-xs mt-2\\'>–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏</div>';">`;
            } else {
                imagePreview.innerHTML = '<i class="fas fa-image text-3xl"></i>';
            }
        }

        // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–æ–¥–∞ –¥–ª—è –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è (—Å —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–æ–π –ø–æ —É–±—ã–≤–∞–Ω–∏—é)
        function updateCode() {
            // –°–æ–∑–¥–∞–µ–º –º–∞—Å—Å–∏–≤ —Å —Ç–µ–∫—É—â–∏–º–∏ –Ω–æ–≤–æ—Å—Ç—è–º–∏, —Å–æ—Ä—Ç–∏—Ä—É–µ–º –ø–æ —É–±—ã–≤–∞–Ω–∏—é
            let dataToUse = [...newsData].sort((a, b) => b.id - a.id);

            // –î–æ–±–∞–≤–ª—è–µ–º —Ç–µ–∫—É—â–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –µ—Å–ª–∏ –µ—Å—Ç—å
            const currentId = parseInt(document.getElementById('newsId').value);
            const currentTitle = document.getElementById('newsTitle').value;
            const currentDate = document.getElementById('newsDate').value;
            const currentText = document.getElementById('newsText').value;
            const currentImage = document.getElementById('newsImage').value;

            if (currentTitle && currentDate && currentText && currentImage) {
                // –û–±–Ω–æ–≤–ª—è–µ–º –∏–ª–∏ –¥–æ–±–∞–≤–ª—è–µ–º —Ç–µ–∫—É—â—É—é –Ω–æ–≤–æ—Å—Ç—å
                const existingIndex = dataToUse.findIndex(n => n.id === currentId);
                if (existingIndex !== -1) {
                    dataToUse[existingIndex] = {
                        id: currentId,
                        title: currentTitle,
                        date: currentDate,
                        text: currentText,
                        image: currentImage
                    };
                } else if (!isNewNews) {
                    // –ï—Å–ª–∏ —ç—Ç–æ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–π –Ω–æ–≤–æ—Å—Ç–∏ —Å –∏–∑–º–µ–Ω–µ–Ω–Ω—ã–º ID
                    dataToUse.push({
                        id: currentId,
                        title: currentTitle,
                        date: currentDate,
                        text: currentText,
                        image: currentImage
                    });
                    dataToUse.sort((a, b) => b.id - a.id);
                }
            }

            // –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º –ø–æ–ª–Ω—ã–π –∫–æ–¥ –º–∞—Å—Å–∏–≤–∞
            const code = `// ============================================
// –ú–ê–°–°–ò–í –ù–û–í–û–°–¢–ï–ô (—Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞: –Ω–æ–≤—ã–µ ‚Üí —Å—Ç–∞—Ä—ã–µ)
// –°–∞–º—ã–µ –Ω–æ–≤—ã–µ –Ω–æ–≤–æ—Å—Ç–∏ (—Å –Ω–∞–∏–±–æ–ª—å—à–∏–º ID) –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç—Å—è –ø–µ—Ä–≤—ã–º–∏
// –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –∏ –∑–∞–º–µ–Ω–∏—Ç–µ –≤–µ—Å—å –º–∞—Å—Å–∏–≤ allNewsData –≤ components/news.js
// –í—Å–µ–≥–æ –Ω–æ–≤–æ—Å—Ç–µ–π: ${dataToUse.length}
// ============================================
this.allNewsData = [
${dataToUse.map((news, index) => `  {
    id: ${news.id},
    title: "${escapeString(news.title)}",
    date: "${escapeString(news.date)}",
    text: "${escapeString(news.text)}",
    image: "${escapeString(news.image)}"
  }${index < dataToUse.length - 1 ? ',' : ''}`).join('\n\n')}
];`;

            document.getElementById('codeOutput').textContent = code;

            // –ê–∫—Ç–∏–≤–∏—Ä—É–µ–º –∫–Ω–æ–ø–∫—É –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è –µ—Å–ª–∏ –µ—Å—Ç—å –Ω–æ–≤–æ—Å—Ç–∏
            document.getElementById('copyButton').disabled = dataToUse.length === 0;
        }

        // –≠–∫—Ä–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Å—Ç—Ä–æ–∫
        function escapeString(str) {
            return (str || '')
                .replace(/\\/g, '\\\\')
                .replace(/"/g, '\\"')
                .replace(/\n/g, '\\n')
                .replace(/\r/g, '\\r')
                .replace(/\t/g, '\\t');
        }

        // –ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–¥–∞
        function copyCode() {
            const code = document.getElementById('codeOutput').textContent;
            navigator.clipboard.writeText(code).then(() => {
                const btn = document.getElementById('copyButton');
                const originalText = btn.innerHTML;
                btn.innerHTML = '<i class="fas fa-check mr-1"></i> –°–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–æ!';
                btn.classList.add('copied');

                setTimeout(() => {
                    btn.innerHTML = originalText;
                    btn.classList.remove('copied');
                }, 2000);

                showMessage('‚úÖ –ö–æ–¥ —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω –≤ –±—É—Ñ–µ—Ä –æ–±–º–µ–Ω–∞', 'success');
            });
        }

        // –í–∫–ª—é—á–µ–Ω–∏–µ —Ñ–æ—Ä–º—ã
        function enableForm() {
            document.getElementById('newsId').disabled = false;
            document.getElementById('newsTitle').disabled = false;
            document.getElementById('newsDate').disabled = false;
            document.getElementById('newsText').disabled = false;
            document.getElementById('newsImage').disabled = false;
            document.querySelector('button[onclick="saveNews()"]').disabled = false;
        }

        // –ü–æ–º–æ—â—å
        function showHelp() {
            alert(`üìö –ü–û–ú–û–©–¨ –ü–û –†–ï–î–ê–ö–¢–û–†–£ –ù–û–í–û–°–¢–ï–ô

üéØ –û–°–û–ë–ï–ù–ù–û–°–¢–ò –°–ò–°–¢–ï–ú–´:
‚Ä¢ –í—Å–µ ID –∏–∑–Ω–∞—á–∞–ª—å–Ω–æ —Å–≤–æ–±–æ–¥–Ω—ã (–Ω–µ—Ç —Ç–µ—Å—Ç–æ–≤—ã—Ö –Ω–æ–≤–æ—Å—Ç–µ–π)
‚Ä¢ –ù–æ–≤–æ—Å—Ç–∏ —Å–æ—Ä—Ç–∏—Ä—É—é—Ç—Å—è –ø–æ —É–±—ã–≤–∞–Ω–∏—é ID (–Ω–æ–≤—ã–µ ‚Üí —Å—Ç–∞—Ä—ã–µ)
‚Ä¢ –ù–æ–≤–æ—Å—Ç—å —Å –Ω–∞–∏–±–æ–ª—å—à–∏–º ID –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –ü–ï–†–í–û–ô –Ω–∞ —Å–∞–π—Ç–µ
‚Ä¢ –ö–Ω–æ–ø–∫–∞ "–ó–∞–≥—Ä—É–∑–∏—Ç—å –±–æ–ª—å—à–µ –Ω–æ–≤–æ—Å—Ç–µ–π" –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –±–æ–ª–µ–µ —Å—Ç–∞—Ä—ã–µ –Ω–æ–≤–æ—Å—Ç–∏

üÜî –†–ï–ö–û–ú–ï–ù–î–ê–¶–ò–ò –ü–û ID:
‚Ä¢ –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –±–æ–ª—å—à–∏–µ —á–∏—Å–ª–∞ –¥–ª—è –Ω–æ–≤—ã—Ö –Ω–æ–≤–æ—Å—Ç–µ–π (100, 101, 102...)
‚Ä¢ –≠—Ç–æ –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç, —á—Ç–æ –Ω–æ–≤—ã–µ –Ω–æ–≤–æ—Å—Ç–∏ –±—É–¥—É—Ç –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å—Å—è –ø–µ—Ä–≤—ã–º–∏
‚Ä¢ –ú–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–∞—Ç—ã: 20251120 –¥–ª—è –Ω–æ–≤–æ—Å—Ç–∏ –æ—Ç 20.11.2025

üì± –ö–ê–ö –†–ê–ë–û–¢–ê–ï–¢ –û–¢–û–ë–†–ê–ñ–ï–ù–ò–ï –ù–ê –°–ê–ô–¢–ï:
1. –°–∞–º–∞—è –Ω–æ–≤–∞—è –Ω–æ–≤–æ—Å—Ç—å (–Ω–∞–∏–±–æ–ª—å—à–∏–π ID) –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è —Å—Ä–∞–∑—É
2. –û—Å—Ç–∞–ª—å–Ω—ã–µ –Ω–æ–≤–æ—Å—Ç–∏ —Å–∫—Ä—ã—Ç—ã
3. –ü—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏ "–ó–∞–≥—Ä—É–∑–∏—Ç—å –±–æ–ª—å—à–µ –Ω–æ–≤–æ—Å—Ç–µ–π" –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç—Å—è —Å–ª–µ–¥—É—é—â–∏–µ 2 –Ω–æ–≤–æ—Å—Ç–∏
4. –ù–æ–≤–æ—Å—Ç–∏ –≤—Å–µ–≥–¥–∞ –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç—Å—è –≤ –ø–æ—Ä—è–¥–∫–µ: –Ω–æ–≤—ã–µ ‚Üí —Å—Ç–∞—Ä—ã–µ

üíæ –ö–ê–ö –°–û–•–†–ê–ù–ò–¢–¨ –ò–ó–ú–ï–ù–ï–ù–ò–Ø:
1. –†–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ –Ω–æ–≤–æ—Å—Ç–∏ –≤ —Ñ–æ—Ä–º–µ
2. –ù–∞–∂–º–∏—Ç–µ "–°–æ—Ö—Ä–∞–Ω–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è" (–ª–æ–∫–∞–ª—å–Ω–æ)
3. –ù–∞–∂–º–∏—Ç–µ "–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å –∫–æ–¥" —Å–ø—Ä–∞–≤–∞
4. –û—Ç–∫—Ä–æ–π—Ç–µ components/news.js
5. –ó–∞–º–µ–Ω–∏—Ç–µ –º–∞—Å—Å–∏–≤ allNewsData —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–Ω—ã–º –∫–æ–¥–æ–º
6. –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ —Ñ–∞–π–ª –∏ –æ–±–Ω–æ–≤–∏—Ç–µ —Å–∞–π—Ç`);
        }

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π
        document.querySelectorAll('#newsId, #newsTitle, #newsDate, #newsText, #newsImage').forEach(input => {
            input.addEventListener('input', updatePreview);
        });
    </script>
</body>

</html>
